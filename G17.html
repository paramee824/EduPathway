<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Tour Guide Master - ‡πÄ‡∏Å‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÑ‡∏Å‡∏î‡πå‡∏ó‡∏±‡∏ß‡∏£‡πå</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Kanit', sans-serif; }
        
        .tourist-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        
        .tourist-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .satisfaction-bar {
            transition: width 0.5s ease;
        }
        
        .event-popup {
            animation: slideIn 0.5s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .pulse-effect {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .card-shadow {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen">
    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å -->
    <div id="homeScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="text-center max-w-4xl mx-auto">
            <div class="gradient-bg text-white p-8 rounded-3xl card-shadow mb-8">
                <h1 class="text-5xl font-bold mb-4">üéØ Tour Guide Master</h1>
                <p class="text-xl mb-6">‡πÄ‡∏Å‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÑ‡∏Å‡∏î‡πå‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏õ‡∏ß‡∏ä.3 ‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</p>
                <div class="text-lg space-y-2 mb-8">
                    <p>üåü ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</p>
                    <p>‚ö° ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤</p>
                    <p>üèÜ ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
                </div>
                <button onclick="showTourSelection()" class="bg-yellow-400 hover:bg-yellow-500 text-gray-800 font-bold py-4 px-8 rounded-full text-xl transition-all duration-300 pulse-effect">
                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
                </button>
            </div>
            
            <!-- ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô -->
            <div class="bg-white rounded-2xl p-6 card-shadow text-left">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">üìã ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
                <div class="grid md:grid-cols-2 gap-6 text-sm">
                    <div>
                        <h3 class="font-semibold text-blue-600 mb-2">üéÆ ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</h3>
                        <ul class="space-y-1 text-gray-600">
                            <li>‚Ä¢ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏£‡∏¥‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</li>
                            <li>‚Ä¢ ‡∏£‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</li>
                            <li>‚Ä¢ ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-green-600 mb-2">‚ö° ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏£‡∏¥‡∏õ</h3>
                        <ul class="space-y-1 text-gray-600">
                            <li>‚Ä¢ ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                            <li>‚Ä¢ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</li>
                            <li>‚Ä¢ ‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-purple-600 mb-2">üèÜ ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
                        <ul class="space-y-1 text-gray-600">
                            <li>‚Ä¢ 80-100: ‡πÑ‡∏Å‡∏î‡πå‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</li>
                            <li>‚Ä¢ 60-79: ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏Å‡∏î‡πå</li>
                            <li>‚Ä¢ ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 60: ‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-semibold text-red-600 mb-2">üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</h3>
                        <ul class="space-y-1 text-gray-600">
                            <li>‚Ä¢ ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á</li>
                            <li>‚Ä¢ ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß</li>
                            <li>‚Ä¢ ‡∏à‡∏ö‡∏ó‡∏£‡∏¥‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏î‡∏µ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏£‡∏¥‡∏õ -->
    <div id="tourSelection" class="hidden min-h-screen p-4">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">üåç ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏£‡∏¥‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                <p class="text-lg text-gray-600">‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ó‡∏£‡∏¥‡∏õ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô</p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-6">
                <div class="bg-white rounded-2xl p-6 card-shadow tourist-card cursor-pointer" onclick="startGame('north')">
                    <div class="text-6xl mb-4">üèîÔ∏è</div>
                    <h3 class="text-xl font-bold mb-2">‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ 5 ‡∏ß‡∏±‡∏ô</h3>
                    <p class="text-gray-600 mb-4">‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà - ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢ - ‡∏î‡∏≠‡∏¢‡∏™‡∏∏‡πÄ‡∏ó‡∏û</p>
                    <div class="text-sm space-y-1">
                        <p>üë• ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå: 8 ‡∏Ñ‡∏ô</p>
                        <p>‚≠ê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å: ‚≠ê‚≠ê‚≠ê</p>
                        <p>üí∞ ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ: 15,000 ‡∏ö‡∏≤‡∏ó</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl p-6 card-shadow tourist-card cursor-pointer" onclick="startGame('europe')">
                    <div class="text-6xl mb-4">üè∞</div>
                    <h3 class="text-xl font-bold mb-2">‡∏¢‡∏∏‡πÇ‡∏£‡∏õ 7 ‡∏ß‡∏±‡∏ô</h3>
                    <p class="text-gray-600 mb-4">‡∏ù‡∏£‡∏±‡πà‡∏á‡πÄ‡∏®‡∏™ - ‡πÄ‡∏¢‡∏≠‡∏£‡∏°‡∏ô‡∏µ - ‡∏™‡∏ß‡∏¥‡∏ï‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏ô‡∏î‡πå</p>
                    <div class="text-sm space-y-1">
                        <p>üë• ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå: 12 ‡∏Ñ‡∏ô</p>
                        <p>‚≠ê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                        <p>üí∞ ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ: 45,000 ‡∏ö‡∏≤‡∏ó</p>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl p-6 card-shadow tourist-card cursor-pointer" onclick="startGame('bangkok')">
                    <div class="text-6xl mb-4">üèôÔ∏è</div>
                    <h3 class="text-xl font-bold mb-2">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 3 ‡∏ß‡∏±‡∏ô</h3>
                    <p class="text-gray-600 mb-4">‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß - ‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£ - ‡∏≠‡πÇ‡∏®‡∏Å</p>
                    <div class="text-sm space-y-1">
                        <p>üë• ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå: 6 ‡∏Ñ‡∏ô</p>
                        <p>‚≠ê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å: ‚≠ê‚≠ê</p>
                        <p>üí∞ ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ: 8,000 ‡∏ö‡∏≤‡∏ó</p>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button onclick="showHomeScreen()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-full">
                    ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                </button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
    <div id="gameScreen" class="hidden min-h-screen p-4">
        <!-- ‡πÅ‡∏ñ‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ -->
        <div class="bg-white rounded-2xl p-4 mb-6 card-shadow">
            <div class="flex flex-wrap items-center justify-between gap-4">
                <div class="flex items-center space-x-4">
                    <h3 class="text-xl font-bold" id="tourTitle">‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ 5 ‡∏ß‡∏±‡∏ô</h3>
                    <div class="bg-blue-100 px-3 py-1 rounded-full">
                        <span class="text-sm font-semibold">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <span id="currentDay">1</span>/<span id="totalDays">5</span></span>
                    </div>
                </div>
                <div class="flex items-center space-x-6">
                    <div class="text-center">
                        <div class="text-2xl font-bold text-green-600" id="satisfaction">85</div>
                        <div class="text-xs text-gray-500">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-blue-600" id="money">15000</div>
                        <div class="text-xs text-gray-500">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (‡∏ö‡∏≤‡∏ó)</div>
                    </div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-purple-600" id="energy">100</div>
                        <div class="text-xs text-gray-500">‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-6">
            <!-- ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå -->
            <div class="lg:col-span-2">
                <div class="bg-white rounded-2xl p-6 card-shadow mb-6">
                    <h3 class="text-xl font-bold mb-4">üë• ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                    <div class="grid md:grid-cols-2 gap-4" id="touristList">
                        <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
                    </div>
                </div>

                <!-- ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô -->
                <div class="bg-white rounded-2xl p-6 card-shadow">
                    <h3 class="text-xl font-bold mb-4">üìç ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</h3>
                    <div id="currentEvent" class="space-y-4">
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <p class="font-semibold text-blue-800">üåÖ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ß‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà</p>
                            <p class="text-blue-600">‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° -->
            <div class="space-y-6">
                <!-- ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥ -->
                <div class="bg-white rounded-2xl p-6 card-shadow">
                    <h3 class="text-xl font-bold mb-4">üéØ ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥</h3>
                    <div class="space-y-3" id="actionButtons">
                        <button onclick="planRoute()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 px-4 rounded-lg transition-colors">
                            üó∫Ô∏è ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á
                        </button>
                        <button onclick="checkTourists()" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 px-4 rounded-lg transition-colors">
                            üëÄ ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏ä‡πá‡∏Ñ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå
                        </button>
                        <button onclick="handleEmergency()" class="w-full bg-red-500 hover:bg-red-600 text-white py-3 px-4 rounded-lg transition-colors">
                            üö® ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô
                        </button>
                        <button onclick="nextDay()" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 px-4 rounded-lg transition-colors">
                            ‚è≠Ô∏è ‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
                        </button>
                    </div>
                </div>

                <!-- ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ -->
                <div class="bg-white rounded-2xl p-6 card-shadow">
                    <h3 class="text-xl font-bold mb-4">üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h3>
                    <div class="space-y-3">
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡∏£‡∏ß‡∏°</span>
                                <span id="satisfactionPercent">85%</span>
                            </div>
                            <div class="bg-gray-200 rounded-full h-2">
                                <div class="satisfaction-bar bg-green-500 h-2 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span>‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô</span>
                                <span id="energyPercent">100%</span>
                            </div>
                            <div class="bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full" id="energyBar" style="width: 100%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏Å‡∏° -->
                <button onclick="endGame()" class="w-full bg-gray-500 hover:bg-gray-600 text-white py-3 px-4 rounded-lg transition-colors">
                    üèÅ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
                </button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå -->
    <div id="resultScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="max-w-2xl mx-auto text-center">
            <div class="bg-white rounded-3xl p-8 card-shadow">
                <div class="text-6xl mb-4" id="resultEmoji">üèÜ</div>
                <h2 class="text-3xl font-bold mb-4" id="resultTitle">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</h2>
                <div class="text-xl mb-6" id="resultScore">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: 85/100</div>
                <div class="bg-gray-50 rounded-2xl p-6 mb-6">
                    <h3 class="text-lg font-semibold mb-3">üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</h3>
                    <div id="resultDetails" class="text-left space-y-2">
                        <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
                    </div>
                </div>
                <div class="space-x-4">
                    <button onclick="showTourSelection()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-full">
                        üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà
                    </button>
                    <button onclick="showHomeScreen()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-full">
                        üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Event Popup -->
    <div id="eventPopup" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl p-6 max-w-md w-full event-popup">
            <div class="text-center">
                <div class="text-4xl mb-4" id="eventEmoji">‚ö†Ô∏è</div>
                <h3 class="text-xl font-bold mb-3" id="eventTitle">‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô!</h3>
                <p class="text-gray-600 mb-6" id="eventDescription">‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô</p>
                <div class="space-y-3" id="eventChoices">
                    <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏°
        let gameState = {
            currentTour: null,
            day: 1,
            totalDays: 5,
            satisfaction: 85,
            money: 15000,
            energy: 100,
            tourists: [],
            events: [],
            completedEvents: []
        };

        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏ß‡∏£‡πå
        const tours = {
            north: {
                name: "‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏†‡∏≤‡∏Ñ‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ 5 ‡∏ß‡∏±‡∏ô",
                days: 5,
                money: 15000,
                tourists: [
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢", type: "‡∏Ñ‡∏ô‡πÅ‡∏Å‡πà", emoji: "üë¥", satisfaction: 80, needs: ["‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô", "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏≠‡∏£‡πà‡∏≠‡∏¢"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏•‡∏µ", type: "‡∏Ñ‡∏ô‡πÅ‡∏Å‡πà", emoji: "üëµ", satisfaction: 85, needs: ["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏ö‡∏≤‡∏¢", "‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏™‡∏∞‡∏≠‡∏≤‡∏î"] },
                    { name: "‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ", type: "‡πÄ‡∏î‡πá‡∏Å", emoji: "üë¶", satisfaction: 90, needs: ["‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô", "‡∏Ç‡∏ô‡∏°"] },
                    { name: "‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏¥‡∏ô‡∏ô‡∏µ‡πà", type: "‡πÄ‡∏î‡πá‡∏Å", emoji: "üëß", satisfaction: 88, needs: ["‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏°", "‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô"] },
                    { name: "‡∏û‡∏µ‡πà‡∏à‡∏≠‡∏´‡πå‡∏ô", type: "Backpacker", emoji: "üéí", satisfaction: 75, needs: ["‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢", "‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ñ‡∏π‡∏Å"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏¥‡∏î‡∏≤", type: "‡∏Ñ‡∏ô‡∏ä‡∏≠‡∏ö‡∏ä‡πâ‡∏≠‡∏õ", emoji: "üõçÔ∏è", satisfaction: 82, needs: ["‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á", "‡∏Ç‡∏≠‡∏á‡∏ù‡∏≤‡∏Å"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò", type: "‡∏ô‡∏±‡∏Å‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", emoji: "üíº", satisfaction: 78, needs: ["‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤", "Wi-Fi"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏∏‡∏î‡∏≤", type: "‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥", emoji: "üåø", satisfaction: 92, needs: ["‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥", "‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ"] }
                ]
            },
            europe: {
                name: "‡∏¢‡∏∏‡πÇ‡∏£‡∏õ 7 ‡∏ß‡∏±‡∏ô",
                days: 7,
                money: 45000,
                tourists: [
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏ß‡∏¥‡∏ä‡∏±‡∏¢", type: "‡∏Ñ‡∏ô‡πÅ‡∏Å‡πà", emoji: "üë¥", satisfaction: 75, needs: ["‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô", "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡∏∏‡πâ‡∏ô‡πÄ‡∏Ñ‡∏¢"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á", type: "‡∏Ñ‡∏ô‡πÅ‡∏Å‡πà", emoji: "üëµ", satisfaction: 80, needs: ["‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏ö‡∏≤‡∏¢", "‡πÑ‡∏°‡πà‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞"] },
                    { name: "‡∏ô‡πâ‡∏≠‡∏á‡πÅ‡∏à‡πá‡∏Ñ", type: "‡πÄ‡∏î‡πá‡∏Å", emoji: "üë¶", satisfaction: 85, needs: ["‡∏Ç‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô", "McDonald's"] },
                    { name: "‡∏ô‡πâ‡∏≠‡∏á‡πÇ‡∏£‡∏™", type: "‡πÄ‡∏î‡πá‡∏Å", emoji: "üëß", satisfaction: 88, needs: ["‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ç‡∏¥‡∏á Disney", "‡∏ä‡πá‡∏≠‡∏Å‡πÇ‡∏Å‡πÅ‡∏•‡∏ï"] },
                    { name: "‡∏û‡∏µ‡πà‡πÄ‡∏î‡∏ß‡∏¥‡∏î", type: "Backpacker", emoji: "üéí", satisfaction: 70, needs: ["‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢", "‡πÇ‡∏Æ‡∏™‡πÄ‡∏ó‡∏•"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏£‡∏µ‡∏¢‡∏≤", type: "‡∏Ñ‡∏ô‡∏ä‡∏≠‡∏ö‡∏ä‡πâ‡∏≠‡∏õ", emoji: "üõçÔ∏è", satisfaction: 90, needs: ["‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÄ‡∏ô‡∏°", "‡πÄ‡∏≠‡∏≤‡∏ó‡πå‡πÄ‡∏•‡πá‡∏ï"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå", type: "‡∏ô‡∏±‡∏Å‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à", emoji: "üíº", satisfaction: 72, needs: ["‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤", "‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏¥‡∏†‡∏≤", type: "‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏®‡∏¥‡∏•‡∏õ‡∏∞", emoji: "üé®", satisfaction: 95, needs: ["‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏ì‡∏ë‡πå", "‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°"] },
                    { name: "‡∏û‡∏µ‡πà‡πÑ‡∏°‡∏Ñ‡πå", type: "‡∏ô‡∏±‡∏Å‡∏Å‡∏µ‡∏¨‡∏≤", emoji: "‚öΩ", satisfaction: 78, needs: ["‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢", "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏•‡∏¥‡∏ã‡πà‡∏≤", type: "‡∏≠‡∏¥‡∏ô‡∏ü‡∏•‡∏π‡πÄ‡∏≠‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå", emoji: "üì∏", satisfaction: 85, needs: ["‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ", "Wi-Fi ‡πÄ‡∏£‡πá‡∏ß"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≠‡∏°", type: "‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£", emoji: "üçΩÔ∏è", satisfaction: 88, needs: ["‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡πâ‡∏≠‡∏á‡∏ñ‡∏¥‡πà‡∏ô", "‡∏£‡πâ‡∏≤‡∏ô‡∏î‡∏±‡∏á"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏°‡∏°‡∏≤", type: "‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå", emoji: "üìö", satisfaction: 92, needs: ["‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏™‡∏ñ‡∏≤‡∏ô", "‡πÑ‡∏Å‡∏î‡πå‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢"] }
                ]
            },
            bangkok: {
                name: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø 3 ‡∏ß‡∏±‡∏ô",
                days: 3,
                money: 8000,
                tourists: [
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏û‡∏á‡∏©‡πå", type: "‡∏Ñ‡∏ô‡πÅ‡∏Å‡πà", emoji: "üë¥", satisfaction: 85, needs: ["‡∏ß‡∏±‡∏î", "‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏ó‡∏¢"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏ì‡∏µ", type: "‡∏Ñ‡∏ô‡πÅ‡∏Å‡πà", emoji: "üëµ", satisfaction: 88, needs: ["‡∏ï‡∏•‡∏≤‡∏î", "‡∏Ç‡∏≠‡∏á‡∏ù‡∏≤‡∏Å"] },
                    { name: "‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏≠‡πá‡∏°", type: "‡πÄ‡∏î‡πá‡∏Å", emoji: "üë¶", satisfaction: 90, needs: ["‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å", "‡πÑ‡∏≠‡∏ï‡∏¥‡∏°"] },
                    { name: "‡∏ô‡πâ‡∏≠‡∏á‡πÄ‡∏ô‡∏¢", type: "‡πÄ‡∏î‡πá‡∏Å", emoji: "üëß", satisfaction: 92, needs: ["‡∏ï‡∏∏‡πä‡∏Å‡∏ï‡∏≤", "‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô"] },
                    { name: "‡∏û‡∏µ‡πà‡∏ö‡∏¥‡πä‡∏Å", type: "Backpacker", emoji: "üéí", satisfaction: 80, needs: ["‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î", "BTS"] },
                    { name: "‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡∏ô", type: "‡∏Ñ‡∏ô‡∏ä‡∏≠‡∏ö‡∏ä‡πâ‡∏≠‡∏õ", emoji: "üõçÔ∏è", satisfaction: 95, needs: ["MBK", "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î"] }
                ]
            }
        };

        // ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏∏‡πà‡∏°
        const randomEvents = [
            {
                emoji: "üöó",
                title: "‡∏£‡∏ñ‡∏ï‡∏¥‡∏î!",
                description: "‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏´‡∏ô‡∏±‡∏Å‡∏°‡∏≤‡∏Å ‡∏à‡∏∞‡πÑ‡∏õ‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏ä‡πâ‡∏≤ 2 ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á",
                choices: [
                    { text: "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á", effect: { satisfaction: -5, energy: -10, money: -500 } },
                    { text: "‡∏£‡∏≠‡πÉ‡∏ô‡∏£‡∏ñ", effect: { satisfaction: -15, energy: -5 } },
                    { text: "‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏Å‡∏•‡πâ‡πÜ", effect: { satisfaction: +5, money: -800 } }
                ]
            },
            {
                emoji: "üåßÔ∏è",
                title: "‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å!",
                description: "‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏ô‡∏±‡∏Å ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÑ‡∏î‡πâ",
                choices: [
                    { text: "‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏£‡πà‡∏°", effect: { satisfaction: -5, money: -300 } },
                    { text: "‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°", effect: { satisfaction: -20, money: +500 } },
                    { text: "‡∏ã‡∏∑‡πâ‡∏≠‡∏£‡πà‡∏°‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô", effect: { satisfaction: +10, money: -1200 } }
                ]
            },
            {
                emoji: "ü§í",
                title: "‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏õ‡πà‡∏ß‡∏¢!",
                description: "‡∏°‡∏µ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏Ç‡πâ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠",
                choices: [
                    { text: "‡∏û‡∏≤‡πÑ‡∏õ‡∏´‡∏≤‡∏´‡∏°‡∏≠", effect: { satisfaction: +15, energy: -20, money: -1000 } },
                    { text: "‡∏ã‡∏∑‡πâ‡∏≠‡∏¢‡∏≤‡πÉ‡∏´‡πâ", effect: { satisfaction: +5, money: -200 } },
                    { text: "‡πÉ‡∏´‡πâ‡∏û‡∏±‡∏Å‡∏ó‡∏µ‡πà‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°", effect: { satisfaction: -5, energy: +10 } }
                ]
            },
            {
                emoji: "üì±",
                title: "‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏´‡∏≤‡∏¢!",
                description: "‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏´‡∏≤‡∏¢ ‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏°‡∏≤‡∏Å",
                choices: [
                    { text: "‡∏ä‡πà‡∏ß‡∏¢‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô", effect: { satisfaction: +10, energy: -15 } },
                    { text: "‡πÅ‡∏à‡πâ‡∏á‡∏ï‡∏≥‡∏£‡∏ß‡∏à", effect: { satisfaction: +5, energy: -10 } },
                    { text: "‡∏õ‡∏•‡∏≠‡∏ö‡πÉ‡∏à‡πÅ‡∏•‡∏∞‡πÑ‡∏õ‡∏ï‡πà‡∏≠", effect: { satisfaction: -10, energy: -5 } }
                ]
            },
            {
                emoji: "üçΩÔ∏è",
                title: "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏õ‡∏¥‡∏î!",
                description: "‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡∏õ‡∏¥‡∏î‡∏Å‡∏∞‡∏ó‡∏±‡∏ô‡∏´‡∏±‡∏ô ‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏´‡∏¥‡∏ß",
                choices: [
                    { text: "‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà", effect: { satisfaction: +5, energy: -10, money: -300 } },
                    { text: "‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Å‡∏¥‡∏ô 7-11", effect: { satisfaction: -10, money: -150 } },
                    { text: "‡πÑ‡∏õ‡∏ü‡∏π‡πâ‡∏î‡∏Ñ‡∏≠‡∏£‡πå‡∏ó", effect: { satisfaction: +8, money: -400 } }
                ]
            }
        ];

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ
        function showHomeScreen() {
            document.getElementById('homeScreen').classList.remove('hidden');
            document.getElementById('tourSelection').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.add('hidden');
        }

        function showTourSelection() {
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('tourSelection').classList.remove('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.add('hidden');
        }

        function showGameScreen() {
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('tourSelection').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('resultScreen').classList.add('hidden');
        }

        function showResultScreen() {
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('tourSelection').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultScreen').classList.remove('hidden');
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        function startGame(tourType) {
            const tour = tours[tourType];
            gameState = {
                currentTour: tourType,
                day: 1,
                totalDays: tour.days,
                satisfaction: 85,
                money: tour.money,
                energy: 100,
                tourists: [...tour.tourists],
                events: [],
                completedEvents: []
            };

            updateGameUI();
            showGameScreen();
            
            // ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
            setTimeout(() => {
                showEvent({
                    emoji: "üåÖ",
                    title: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏£‡∏¥‡∏õ!",
                    description: "‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏°‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏ô‡∏±‡∏î‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á",
                    choices: [
                        { text: "‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô", effect: { satisfaction: +10 } },
                        { text: "‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°", effect: { satisfaction: +5 } },
                        { text: "‡∏£‡∏µ‡∏ö‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á", effect: { satisfaction: -5, energy: +5 } }
                    ]
                });
            }, 1000);
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI
        function updateGameUI() {
            document.getElementById('tourTitle').textContent = tours[gameState.currentTour].name;
            document.getElementById('currentDay').textContent = gameState.day;
            document.getElementById('totalDays').textContent = gameState.totalDays;
            document.getElementById('satisfaction').textContent = Math.round(gameState.satisfaction);
            document.getElementById('money').textContent = gameState.money.toLocaleString();
            document.getElementById('energy').textContent = Math.round(gameState.energy);
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏ñ‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
            document.getElementById('satisfactionPercent').textContent = Math.round(gameState.satisfaction) + '%';
            document.querySelector('.satisfaction-bar').style.width = gameState.satisfaction + '%';
            document.getElementById('energyPercent').textContent = Math.round(gameState.energy) + '%';
            document.getElementById('energyBar').style.width = gameState.energy + '%';
            
            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÅ‡∏ñ‡∏ö‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤
            const satisfactionBar = document.querySelector('.satisfaction-bar');
            if (gameState.satisfaction >= 80) satisfactionBar.className = 'satisfaction-bar bg-green-500 h-2 rounded-full';
            else if (gameState.satisfaction >= 60) satisfactionBar.className = 'satisfaction-bar bg-yellow-500 h-2 rounded-full';
            else satisfactionBar.className = 'satisfaction-bar bg-red-500 h-2 rounded-full';

            updateTouristList();
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå
        function updateTouristList() {
            const container = document.getElementById('touristList');
            container.innerHTML = '';
            
            gameState.tourists.forEach((tourist, index) => {
                const card = document.createElement('div');
                card.className = 'bg-gray-50 p-4 rounded-lg tourist-card';
                
                let statusColor = 'text-green-600';
                let statusText = '‡∏û‡∏≠‡πÉ‡∏à';
                if (tourist.satisfaction < 60) {
                    statusColor = 'text-red-600';
                    statusText = '‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à';
                } else if (tourist.satisfaction < 80) {
                    statusColor = 'text-yellow-600';
                    statusText = '‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á';
                }
                
                card.innerHTML = `
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2">
                            <span class="text-2xl">${tourist.emoji}</span>
                            <div>
                                <div class="font-semibold">${tourist.name}</div>
                                <div class="text-xs text-gray-500">${tourist.type}</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="font-bold ${statusColor}">${Math.round(tourist.satisfaction)}%</div>
                            <div class="text-xs ${statusColor}">${statusText}</div>
                        </div>
                    </div>
                    <div class="text-xs text-gray-600">
                        ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: ${tourist.needs.join(', ')}
                    </div>
                `;
                
                container.appendChild(card);
            });
        }

        // ‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≤‡∏á‡πÜ
        function planRoute() {
            const events = [
                {
                    emoji: "üó∫Ô∏è",
                    title: "‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á",
                    description: "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ",
                    choices: [
                        { text: "‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏±‡πâ‡∏ô (‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤)", effect: { satisfaction: +5, energy: +10 } },
                        { text: "‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏¢‡∏≤‡∏ß (‡∏ä‡∏°‡∏ß‡∏¥‡∏ß)", effect: { satisfaction: +10, energy: -10 } },
                        { text: "‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏£‡∏≤‡∏à‡∏£", effect: { satisfaction: +8, money: -200 } }
                    ]
                }
            ];
            showEvent(events[0]);
        }

        function checkTourists() {
            // ‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
            const problematicTourists = gameState.tourists.filter(t => t.satisfaction < 80);
            if (problematicTourists.length > 0) {
                const tourist = problematicTourists[Math.floor(Math.random() * problematicTourists.length)];
                showEvent({
                    emoji: tourist.emoji,
                    title: `${tourist.name} ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤`,
                    description: `${tourist.name} (${tourist.type}) ‡∏î‡∏π‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: ${tourist.needs.join(', ')}`,
                    choices: [
                        { text: "‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©", effect: { satisfaction: +15, energy: -10 }, target: tourist },
                        { text: "‡∏Ñ‡∏∏‡∏¢‡∏õ‡∏•‡∏≠‡∏ö‡πÉ‡∏à", effect: { satisfaction: +8, energy: -5 }, target: tourist },
                        { text: "‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß", effect: { satisfaction: +3 }, target: tourist }
                    ]
                });
            } else {
                showEvent({
                    emoji: "üòä",
                    title: "‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç!",
                    description: "‡∏•‡∏π‡∏Å‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏î‡∏π‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏∞‡πÑ‡∏£",
                    choices: [
                        { text: "‡∏î‡∏µ‡πÉ‡∏à‡∏î‡πâ‡∏ß‡∏¢!", effect: { satisfaction: +5, energy: +5 } }
                    ]
                });
            }
        }

        function handleEmergency() {
            const event = randomEvents[Math.floor(Math.random() * randomEvents.length)];
            showEvent(event);
        }

        function nextDay() {
            if (gameState.day >= gameState.totalDays) {
                endGame();
                return;
            }
            
            gameState.day++;
            gameState.energy = Math.min(100, gameState.energy + 20); // ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô
            
            // ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏ï‡∏≤‡∏°‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥
            gameState.tourists.forEach(tourist => {
                tourist.satisfaction = Math.max(0, tourist.satisfaction - Math.random() * 5);
            });
            
            updateGameUI();
            
            // ‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
            if (Math.random() < 0.7) { // 70% ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå
                setTimeout(() => {
                    const event = randomEvents[Math.floor(Math.random() * randomEvents.length)];
                    showEvent(event);
                }, 1000);
            }
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå
        function showEvent(event) {
            document.getElementById('eventEmoji').textContent = event.emoji;
            document.getElementById('eventTitle').textContent = event.title;
            document.getElementById('eventDescription').textContent = event.description;
            
            const choicesContainer = document.getElementById('eventChoices');
            choicesContainer.innerHTML = '';
            
            event.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'w-full bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-lg transition-colors';
                button.textContent = choice.text;
                button.onclick = () => handleChoice(choice, event);
                choicesContainer.appendChild(button);
            });
            
            document.getElementById('eventPopup').classList.remove('hidden');
        }

        // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
        function handleChoice(choice, event) {
            // ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
            if (choice.effect.satisfaction) {
                if (choice.target) {
                    choice.target.satisfaction = Math.max(0, Math.min(100, choice.target.satisfaction + choice.effect.satisfaction));
                } else {
                    gameState.tourists.forEach(tourist => {
                        tourist.satisfaction = Math.max(0, Math.min(100, tourist.satisfaction + choice.effect.satisfaction));
                    });
                }
            }
            
            if (choice.effect.energy) {
                gameState.energy = Math.max(0, Math.min(100, gameState.energy + choice.effect.energy));
            }
            
            if (choice.effect.money) {
                gameState.money += choice.effect.money;
            }
            
            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡∏£‡∏ß‡∏°
            gameState.satisfaction = gameState.tourists.reduce((sum, tourist) => sum + tourist.satisfaction, 0) / gameState.tourists.length;
            
            document.getElementById('eventPopup').classList.add('hidden');
            updateGameUI();
        }

        // ‡∏à‡∏ö‡πÄ‡∏Å‡∏°
        function endGame() {
            const finalScore = Math.round(gameState.satisfaction);
            let rank, emoji, title;
            
            if (finalScore >= 80) {
                rank = "‡πÑ‡∏Å‡∏î‡πå‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û";
                emoji = "üèÜ";
                title = "‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!";
            } else if (finalScore >= 60) {
                rank = "‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÑ‡∏Å‡∏î‡πå‡∏ó‡∏±‡∏ß‡∏£‡πå";
                emoji = "ü•à";
                title = "‡∏î‡∏µ‡∏°‡∏≤‡∏Å!";
            } else {
                rank = "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô";
                emoji = "üìã";
                title = "‡∏ï‡πâ‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°";
            }
            
            document.getElementById('resultEmoji').textContent = emoji;
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('resultScore').textContent = `‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${finalScore}/100`;
            
            const details = document.getElementById('resultDetails');
            details.innerHTML = `
                <div class="flex justify-between"><span>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°:</span><span class="font-semibold">${rank}</span></div>
                <div class="flex justify-between"><span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏≠‡πÉ‡∏à‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢:</span><span>${finalScore}%</span></div>
                <div class="flex justify-between"><span>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥:</span><span>${gameState.money.toLocaleString()} ‡∏ö‡∏≤‡∏ó</span></div>
                <div class="flex justify-between"><span>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô:</span><span>${gameState.day}/${gameState.totalDays} ‡∏ß‡∏±‡∏ô</span></div>
                <div class="flex justify-between"><span>‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠:</span><span>${Math.round(gameState.energy)}%</span></div>
            `;
            
            showResultScreen();
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
        showHomeScreen();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'978d8781c5af7b50',t:'MTc1NjgyMTU4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
.