<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîß ‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #5568a0;
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: #e54c4e;
            padding: 20px;
            border-radius: 15px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .score-board {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .score-item {
            background: #ecb445;
            color: #333;
            padding: 10px 20px;
            border-radius: 10px;
            border: 2px solid #333;
            text-align: center;
            font-weight: bold;
        }

        .game-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: #e54c4e;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .game-card:hover {
            transform: translateY(-5px);
            border-color: #ecb445;
            box-shadow: 0 10px 25px rgba(236, 180, 69, 0.3);
        }

        .game-card.active {
            border-color: #ecb445;
            background: #ecb445;
            color: #333;
        }

        .game-area {
            background: #e54c4e;
            padding: 30px;
            border-radius: 15px;
            min-height: 500px;
        }

        .circuit-game {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            align-items: center;
        }

        .component {
            background: #5568a0;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #ecb445;
            user-select: none;
            color: white;
        }

        .component:hover {
            background: #ecb445;
            color: #333;
        }

        .component.connected {
            background: #ecb445;
            color: #333;
            animation: pulse 2s infinite;
        }

        .component.selected {
            background: #ecb445;
            color: #333;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .wire-area {
            position: relative;
            height: 200px;
            background: #5568a0;
            border-radius: 10px;
            border: 2px dashed #ecb445;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wire {
            position: absolute;
            height: 4px;
            background: #ecb445;
            border-radius: 2px;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .wire.active {
            opacity: 1;
            animation: electricity 1s infinite;
        }

        @keyframes electricity {
            0%, 100% { box-shadow: 0 0 5px #ecb445; }
            50% { box-shadow: 0 0 15px #ecb445, 0 0 25px #ecb445; }
        }

        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .gauge {
            background: #5568a0;
            border-radius: 50%;
            width: 150px;
            height: 150px;
            position: relative;
            margin: 0 auto;
            border: 5px solid #ecb445;
        }

        .gauge-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 3px;
            height: 60px;
            background: #ecb445;
            transform-origin: bottom center;
            transform: translate(-50%, -100%) rotate(-90deg);
            transition: transform 0.5s ease;
            border-radius: 2px;
        }

        .gauge-center {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            background: #5568a0;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            border: 3px solid #ecb445;
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #5568a0;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: #ecb445;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(236, 180, 69, 0.5);
        }

        .instrument-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .instrument {
            background: #5568a0;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid #ecb445;
            color: white;
        }

        .instrument:hover {
            background: #ecb445;
            color: #333;
        }

        .instrument.selected {
            background: #ecb445;
            color: #333;
        }

        .question-area {
            background: #5568a0;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border: 2px solid #ecb445;
        }

        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .option {
            background: #5568a0;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #ecb445;
            text-align: center;
            color: white;
        }

        .option:hover {
            background: #ecb445;
            color: #333;
        }

        .option.correct {
            background: #ecb445;
            color: #333;
        }

        .option.wrong {
            background: #e54c4e;
            color: white;
        }

        .btn {
            background: #ecb445;
            color: #333;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(236, 180, 69, 0.4);
            background: #5568a0;
            color: white;
        }

        .status-light {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #5568a0;
            display: inline-block;
            margin: 0 5px;
            transition: all 0.3s ease;
            border: 2px solid #ecb445;
        }

        .status-light.on {
            background: #ecb445;
            box-shadow: 0 0 15px #ecb445;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #5568a0;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
            border: 2px solid #ecb445;
        }

        .progress-fill {
            height: 100%;
            background: #ecb445;
            width: 0%;
            transition: width 0.5s ease;
        }

        .completion-message {
            background: #ecb445;
            color: #333;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin: 20px 0;
            display: none;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .modal-content {
            background-color: #e54c4e;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #ecb445;
        }

        .difficulty-indicator {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-left: 10px;
        }

        .easy { background: #ecb445; color: #333; }
        .medium { background: #e54c4e; color: white; }
        .hard { background: #5568a0; color: white; }

        .attempts-counter {
            background: #5568a0;
            color: white;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
        }

        .final-assessment {
            background: #ecb445;
            color: #333;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
        }

        .skill-meter {
            background: #5568a0;
            height: 20px;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }

        .skill-fill {
            height: 100%;
            background: #ecb445;
            transition: width 0.5s ease;
        }

        .game-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .summary-card {
            background: #5568a0;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #ecb445;
        }

        @media (max-width: 768px) {
            .circuit-game {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .score-board {
                flex-direction: column;
                align-items: center;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîß ‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° ‚öôÔ∏è</h1>
            <p>‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£ ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° ‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ üõ†Ô∏è</p>
            <div style="margin-top: 15px;">
                <button class="btn" onclick="showRules()">üìã ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</button>
                <button class="btn" onclick="startGame()" id="startBtn">üéÆ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
                <button class="btn" onclick="nextGame()" id="nextBtn" style="display: none;">‚û°Ô∏è ‡∏î‡πà‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
            </div>
        </div>

        <div class="score-board">
            <div class="score-item">
                <div>üèÜ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</div>
                <div id="totalScore">0</div>
            </div>
            <div class="score-item">
                <div>‚ö° ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</div>
                <div id="accuracy">100%</div>
            </div>
            <div class="score-item">
                <div>üéØ ‡πÄ‡∏•‡πÄ‡∏ß‡∏•</div>
                <div id="level">1</div>
            </div>
            <div class="score-item">
                <div>‚è±Ô∏è ‡πÄ‡∏ß‡∏•‡∏≤</div>
                <div id="timer">00:00</div>
            </div>
        </div>

        <div class="game-selector">
            <div class="game-card active" onclick="selectGame('circuit')">
                <h3>‚ö° ‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå <span class="difficulty-indicator hard">‡∏¢‡∏≤‡∏Å</span></h3>
                <p>‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå 3 ‡∏ï‡∏±‡∏ß + PLC + HMI + Alarm üîå</p>
                <div class="status-light" id="circuit-status"></div>
            </div>
            <div class="game-card" onclick="selectGame('control')">
                <h3>üéõÔ∏è ‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° <span class="difficulty-indicator easy">‡∏á‡πà‡∏≤‡∏¢</span></h3>
                <p>‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Ñ‡πà‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î üìä</p>
                <div class="status-light" id="control-status"></div>
            </div>
            <div class="game-card" onclick="selectGame('matching')">
                <h3>üîß ‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î <span class="difficulty-indicator easy">‡∏á‡πà‡∏≤‡∏¢</span></h3>
                <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô üõ†Ô∏è</p>
                <div class="status-light" id="matching-status"></div>
            </div>
            <div class="game-card" onclick="selectGame('troubleshoot')">
                <h3>üîç ‡πÄ‡∏Å‡∏°‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô <span class="difficulty-indicator hard">‡∏¢‡∏≤‡∏Å</span></h3>
                <p>‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô ‚öôÔ∏è</p>
                <div class="status-light" id="troubleshoot-status"></div>
            </div>
        </div>

        <div class="game-area" id="gameArea">
            <!-- ‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå -->
            <div id="circuitGame" class="game-content">
                <h2>‚ö° ‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏¢‡∏≤‡∏Å)</h2>
                <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠: ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ó‡∏±‡πâ‡∏á 3 ‚Üí PLC ‚Üí HMI ‡πÅ‡∏•‡∏∞ Alarm üîå</p>
                <p><small>‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: Thermocouple‚ÜíPLC, Pressure‚ÜíPLC, Flow‚ÜíPLC, PLC‚ÜíHMI, PLC‚ÜíAlarm</small></p>
                <div class="attempts-counter">
                    ‚ö†Ô∏è ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: <span id="attemptsLeft">3</span>/3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                </div>
                
                <div class="circuit-game">
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div class="component" id="thermocouple" onclick="selectComponent('thermocouple')">
                            üå°Ô∏è<br>Thermocouple<br>
                            <small>‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</small>
                        </div>
                        <div class="component" id="pressure-sensor" onclick="selectComponent('pressure-sensor')">
                            üí®<br>Pressure Sensor<br>
                            <small>‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô</small>
                        </div>
                        <div class="component" id="flow-sensor" onclick="selectComponent('flow-sensor')">
                            üåä<br>Flow Sensor<br>
                            <small>‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ß‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•</small>
                        </div>
                    </div>
                    
                    <div class="wire-area" id="wireArea">
                        <div class="wire" id="wire1"></div>
                        <div class="wire" id="wire2"></div>
                        <div class="wire" id="wire3"></div>
                        <div class="wire" id="wire4"></div>
                        <div class="wire" id="wire5"></div>
                        <div style="color: white; text-align: center;">
                            ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£<br>
                            <small>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ 5 ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</small>
                        </div>
                    </div>
                    
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <div class="component" id="plc" onclick="selectComponent('plc')">
                            üñ•Ô∏è<br>PLC<br>
                            <small>‡∏ï‡∏±‡∏ß‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏•‡∏±‡∏Å</small>
                        </div>
                        <div class="component" id="hmi" onclick="selectComponent('hmi')">
                            üì±<br>HMI<br>
                            <small>‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•</small>
                        </div>
                        <div class="component" id="alarm" onclick="selectComponent('alarm')">
                            üö®<br>Alarm<br>
                            <small>‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</small>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="checkCircuit()">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏á‡∏à‡∏£</button>
                    <button class="btn" onclick="resetCircuit()">‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
                    <div style="margin-top: 10px;">
                        ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: <span class="status-light" id="circuitLight"></span>
                        <span id="circuitStatus">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠</span>
                    </div>
                </div>
                
                <div class="completion-message" id="circuitComplete">
                    üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡πÑ‡∏î‡πâ 100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                </div>
            </div>

            <!-- ‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° -->
            <div id="controlGame" class="game-content" style="display: none;">
                <h2>üéõÔ∏è ‡πÄ‡∏Å‡∏°‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</h2>
                <p>‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö Set Point ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î (‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100% ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)</p>
                
                <div class="control-panel">
                    <div>
                        <h3>üå°Ô∏è ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</h3>
                        <div class="gauge">
                            <div class="gauge-needle" id="tempNeedle"></div>
                            <div class="gauge-center"></div>
                        </div>
                        <div class="slider-container">
                            <label>‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥: <span id="tempValue">25</span>¬∞C</label>
                            <input type="range" class="slider" id="tempSlider" min="0" max="100" value="25">
                        </div>
                        <div>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: <span id="tempTarget">50</span>¬∞C</div>
                    </div>
                    
                    <div>
                        <h3>üí® ‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô</h3>
                        <div class="gauge">
                            <div class="gauge-needle" id="pressureNeedle"></div>
                            <div class="gauge-center"></div>
                        </div>
                        <div class="slider-container">
                            <label>‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô: <span id="pressureValue">0</span> Bar</label>
                            <input type="range" class="slider" id="pressureSlider" min="0" max="10" value="0" step="0.1">
                        </div>
                        <div>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: <span id="pressureTarget">5.0</span> Bar</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="controlProgress"></div>
                    </div>
                    <div>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥: <span id="controlAccuracy">0%</span></div>
                    <button class="btn" onclick="newControlChallenge()">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà</button>
                </div>
                
                <div class="completion-message" id="controlComplete">
                    üéØ ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ 100%! ‡πÑ‡∏î‡πâ 50 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                </div>
            </div>

            <!-- ‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î -->
            <div id="matchingGame" class="game-content" style="display: none;">
                <h2>üîß ‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î</h2>
                
                <div class="question-area">
                    <h3 id="matchingQuestion">‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏ô‡∏ó‡πà‡∏≠ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î?</h3>
                </div>
                
                <div class="instrument-grid">
                    <div class="instrument" onclick="selectInstrument('thermometer')">
                        üå°Ô∏è<br>Thermometer<br>
                        <small>‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</small>
                    </div>
                    <div class="instrument" onclick="selectInstrument('pressure')">
                        üìä<br>Pressure Gauge<br>
                        <small>‡∏ß‡∏±‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô</small>
                    </div>
                    <div class="instrument" onclick="selectInstrument('flow')">
                        üåä<br>Flow Meter<br>
                        <small>‡∏ß‡∏±‡∏î‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•</small>
                    </div>
                    <div class="instrument" onclick="selectInstrument('multimeter')">
                        ‚ö°<br>Multimeter<br>
                        <small>‡∏ß‡∏±‡∏î‡πÑ‡∏ü‡∏ü‡πâ‡∏≤</small>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="matchingScore">0</span>/5</div>
                </div>
                
                <div class="completion-message" id="matchingComplete">
                    üèÜ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span id="finalMatchingScore">0</span>/5
                </div>
            </div>

            <!-- ‡πÄ‡∏Å‡∏°‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô -->
            <div id="troubleshootGame" class="game-content" style="display: none;">
                <h2>üîç ‡πÄ‡∏Å‡∏°‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô</h2>
                
                <div class="question-area">
                    <h3 id="troubleshootScenario">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏õ‡∏±‡πä‡∏°‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</h3>
                    <p>‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?</p>
                </div>
                
                <div class="options" id="troubleshootOptions">
                    <div class="option" onclick="selectTroubleshootOption(0)">
                        ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≠
                    </div>
                    <div class="option" onclick="selectTroubleshootOption(1)">
                        ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏±‡πä‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
                    </div>
                    <div class="option" onclick="selectTroubleshootOption(2)">
                        ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏≤‡∏•‡πå‡∏ß‡∏õ‡∏¥‡∏î-‡πÄ‡∏õ‡∏¥‡∏î
                    </div>
                    <div class="option" onclick="selectTroubleshootOption(3)">
                        ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: <span id="troubleshootScore">0</span>/3</div>
                </div>
                
                <div class="completion-message" id="troubleshootComplete">
                    üîß ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span id="finalTroubleshootScore">0</span>/3
                </div>
            </div>
        </div>

        <!-- Modal ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô -->
        <div id="rulesModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeRules()">&times;</span>
                <h2>üìã ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
                
                <h3>üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</h3>
                <p>‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Å‡∏° 4 ‡∏î‡πà‡∏≤‡∏ô</p>
                
                <h3>üéÆ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h3>
                <ul>
                    <li><strong>‚ö° ‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå:</strong> ‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ú‡∏¥‡∏î 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</li>
                    <li><strong>üéõÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°:</strong> ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ > 90%</li>
                    <li><strong>üîß ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠:</strong> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                    <li><strong>üîç ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</strong> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</li>
                </ul>
                
                <h3>üèÜ ‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h3>
                <ul>
                    <li>‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå: 100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (‡∏•‡∏î‡∏•‡∏á 25 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î)</li>
                    <li>‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°: 50 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</li>
                    <li>‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠: 20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠</li>
                    <li>‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: 30 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠</li>
                </ul>
                
                <h3>üìä ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•</h3>
                <p>‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏î‡πà‡∏≤‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</p>
            </div>
        </div>

        <!-- Modal ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô -->
        <div id="assessmentModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeAssessment()">&times;</span>
                <h2>üèÜ ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞</h2>
                
                <div class="final-assessment">
                    <h3 id="overallGrade">üéØ ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏±‡∏Å‡∏©‡∏∞: ‡∏î‡∏µ‡∏°‡∏≤‡∏Å</h3>
                    <p id="assessmentText">‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î</p>
                </div>
                
                <div class="game-summary" id="gameSummary">
                    <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏ô -->
                </div>
                
                <div>
                    <h3>üìà ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏ï‡πà‡∏≤‡∏á‡πÜ</h3>
                    <div>
                        <label>üîå ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£:</label>
                        <div class="skill-meter">
                            <div class="skill-fill" id="circuitSkill"></div>
                        </div>
                    </div>
                    <div>
                        <label>üéõÔ∏è ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°:</label>
                        <div class="skill-meter">
                            <div class="skill-fill" id="controlSkill"></div>
                        </div>
                    </div>
                    <div>
                        <label>üîß ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠:</label>
                        <div class="skill-meter">
                            <div class="skill-fill" id="knowledgeSkill"></div>
                        </div>
                    </div>
                    <div>
                        <label>üîç ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</label>
                        <div class="skill-meter">
                            <div class="skill-fill" id="problemSkill"></div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" onclick="resetAllGames()">üîÑ ‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let gameState = {
            currentGame: 'circuit',
            totalScore: 0,
            accuracy: 100,
            level: 1,
            startTime: Date.now(),
            circuitConnections: [],
            selectedComponent: null,
            matchingQuestionIndex: 0,
            troubleshootQuestionIndex: 0,
            matchingScore: 0,
            troubleshootScore: 0,
            controlScore: 0,
            circuitScore: 0,
            circuitAttempts: 3,
            wrongAttempts: 0,
            circuitCompleted: false,
            controlCompleted: false,
            matchingCompleted: false,
            troubleshootCompleted: false,
            allGamesCompleted: false
        };

        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
        const matchingQuestions = [
            { question: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏ô‡∏ó‡πà‡∏≠ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î?", answer: "thermometer" },
            { question: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î?", answer: "pressure" },
            { question: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏•‡∏ß ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î?", answer: "flow" },
            { question: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏±‡∏î‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î?", answer: "multimeter" },
            { question: "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÉ‡∏î?", answer: "multimeter" }
        ];

        const troubleshootScenarios = [
            {
                scenario: "‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á‡∏î‡∏±‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô ‡πÅ‡∏°‡πâ‡∏ß‡πà‡∏≤‡∏õ‡∏±‡πä‡∏°‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà",
                question: "‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πà‡∏≠‡∏ô?",
                options: [
                    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≠",
                    "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏õ‡∏±‡πä‡∏°‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ", 
                    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏≤‡∏•‡πå‡∏ß‡∏õ‡∏¥‡∏î-‡πÄ‡∏õ‡∏¥‡∏î",
                    "‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
                ],
                correct: 0
            },
            {
                scenario: "‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÅ‡∏™‡∏î‡∏á 999¬∞C)",
                question: "‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏≠?",
                options: [
                    "‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Calibration ‡πÉ‡∏´‡∏°‡πà",
                    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü",
                    "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà",
                    "‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö PLC"
                ],
                correct: 1
            },
            {
                scenario: "‡∏£‡∏∞‡∏ö‡∏ö Alarm ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡πà‡∏≤‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î",
                question: "‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?",
                options: [
                    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Set Point",
                    "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü Alarm",
                    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° PLC",
                    "‡∏ó‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠ 1 ‡πÅ‡∏•‡∏∞ 3"
                ],
                correct: 3
            }
        ];

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏°
        function selectGame(gameType) {
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI
            document.querySelectorAll('.game-card').forEach(card => card.classList.remove('active'));
            event.target.closest('.game-card').classList.add('active');
            
            // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            document.querySelectorAll('.game-content').forEach(content => content.style.display = 'none');
            
            // ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏Å‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
            document.getElementById(gameType + 'Game').style.display = 'block';
            gameState.currentGame = gameType;
            
            // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
            initializeGame(gameType);
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        function initializeGame(gameType) {
            switch(gameType) {
                case 'circuit':
                    resetCircuit();
                    break;
                case 'control':
                    newControlChallenge();
                    break;
                case 'matching':
                    if (!gameState.matchingCompleted) {
                        gameState.matchingQuestionIndex = 0;
                        gameState.matchingScore = 0;
                        document.getElementById('matchingScore').textContent = '0';
                        showMatchingQuestion();
                    }
                    break;
                case 'troubleshoot':
                    if (!gameState.troubleshootCompleted) {
                        gameState.troubleshootQuestionIndex = 0;
                        gameState.troubleshootScore = 0;
                        document.getElementById('troubleshootScore').textContent = '0';
                        showTroubleshootScenario();
                    }
                    break;
            }
        }

        // ‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£
        function selectComponent(componentId) {
            if (gameState.circuitCompleted) return;
            
            if (gameState.selectedComponent === null) {
                gameState.selectedComponent = componentId;
                document.getElementById(componentId).classList.add('selected');
            } else if (gameState.selectedComponent !== componentId) {
                // ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
                gameState.circuitConnections.push([gameState.selectedComponent, componentId]);
                document.getElementById(gameState.selectedComponent).classList.remove('selected');
                gameState.selectedComponent = null;
                updateWires();
            } else {
                // ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                document.getElementById(componentId).classList.remove('selected');
                gameState.selectedComponent = null;
            }
        }

        function updateWires() {
            const connections = gameState.circuitConnections;
            const wires = ['wire1', 'wire2', 'wire3', 'wire4', 'wire5'];
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
            connections.forEach((connection, index) => {
                if (index < wires.length) {
                    const wire = document.getElementById(wires[index]);
                    wire.style.opacity = '1';
                    wire.style.top = `${30 + (index * 35)}px`;
                    wire.style.left = '20px';
                    wire.style.width = '60%';
                    wire.style.background = getWireColor(connection);
                }
            });
        }
        
        function getWireColor(connection) {
            // ‡∏™‡∏µ‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠
            if (connection.includes('thermocouple')) return '#ff6b6b';
            if (connection.includes('pressure-sensor')) return '#4ecdc4';
            if (connection.includes('flow-sensor')) return '#45b7d1';
            if (connection.includes('hmi')) return '#96ceb4';
            if (connection.includes('alarm')) return '#feca57';
            return '#ecb445';
        }

        function checkCircuit() {
            if (gameState.circuitCompleted) return;
            
            const connections = gameState.circuitConnections;
            
            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ 5 ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠)
            let hasThermocoupleToPlc = connections.some(conn => 
                (conn[0] === 'thermocouple' && conn[1] === 'plc') ||
                (conn[0] === 'plc' && conn[1] === 'thermocouple')
            );
            
            let hasPressureToPlc = connections.some(conn => 
                (conn[0] === 'pressure-sensor' && conn[1] === 'plc') ||
                (conn[0] === 'plc' && conn[1] === 'pressure-sensor')
            );
            
            let hasFlowToPlc = connections.some(conn => 
                (conn[0] === 'flow-sensor' && conn[1] === 'plc') ||
                (conn[0] === 'plc' && conn[1] === 'flow-sensor')
            );
            
            let hasPlcToHmi = connections.some(conn => 
                (conn[0] === 'plc' && conn[1] === 'hmi') ||
                (conn[0] === 'hmi' && conn[1] === 'plc')
            );
            
            let hasPlcToAlarm = connections.some(conn => 
                (conn[0] === 'plc' && conn[1] === 'alarm') ||
                (conn[0] === 'alarm' && conn[1] === 'plc')
            );
            
            let isCorrect = connections.length === 5 && hasThermocoupleToPlc && 
                           hasPressureToPlc && hasFlowToPlc && hasPlcToHmi && hasPlcToAlarm;
            
            if (isCorrect) {
                document.getElementById('circuitLight').classList.add('on');
                document.getElementById('circuitStatus').textContent = '‡∏ß‡∏á‡∏à‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! üéâ';
                document.querySelectorAll('.component').forEach(comp => comp.classList.add('connected'));
                document.querySelectorAll('.wire').forEach(wire => wire.classList.add('active'));
                
                // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î
                const baseScore = 100;
                const penalty = gameState.wrongAttempts * 25;
                gameState.circuitScore = Math.max(25, baseScore - penalty);
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
                document.getElementById('circuitComplete').innerHTML = 
                    `üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£‡πÑ‡∏î‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡πÑ‡∏î‡πâ ${gameState.circuitScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô<br>
                    <small>‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ${gameState.wrongAttempts} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</small>`;
                document.getElementById('circuitComplete').style.display = 'block';
                gameState.circuitCompleted = true;
                
                // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
                gameState.totalScore += gameState.circuitScore;
                updateScoreBoard();
                showNextButton();
                
                // ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
                playSuccessSound();
            } else {
                gameState.wrongAttempts++;
                gameState.circuitAttempts--;
                document.getElementById('attemptsLeft').textContent = gameState.circuitAttempts;
                
                if (gameState.circuitAttempts <= 0) {
                    document.getElementById('circuitStatus').textContent = '‡∏´‡∏°‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™! ‡∏Å‡∏î‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà ‚ùå';
                    document.getElementById('circuitComplete').innerHTML = 
                        `‚ùå ‡∏´‡∏°‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÅ‡∏•‡πâ‡∏ß! ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ: 0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
                    document.getElementById('circuitComplete').style.display = 'block';
                    gameState.circuitCompleted = true;
                    gameState.circuitScore = 0;
                    checkAllGamesCompleted();
                } else {
                    document.getElementById('circuitStatus').textContent = 
                        `‡∏ß‡∏á‡∏à‡∏£‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ ${gameState.circuitAttempts} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‚ö†Ô∏è`;
                }
            }
        }

        function resetCircuit() {
            gameState.circuitConnections = [];
            gameState.selectedComponent = null;
            gameState.circuitCompleted = false;
            gameState.circuitAttempts = 3;
            gameState.wrongAttempts = 0;
            gameState.circuitScore = 0;
            
            document.getElementById('attemptsLeft').textContent = '3';
            document.querySelectorAll('.component').forEach(comp => {
                comp.classList.remove('connected', 'selected');
            });
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ó‡∏±‡πâ‡∏á 5 ‡πÄ‡∏™‡πâ‡∏ô
            ['wire1', 'wire2', 'wire3', 'wire4', 'wire5'].forEach(wireId => {
                const wire = document.getElementById(wireId);
                wire.style.opacity = '0';
                wire.classList.remove('active');
                wire.style.background = '#ecb445';
            });
            
            document.getElementById('circuitLight').classList.remove('on');
            document.getElementById('circuitStatus').textContent = '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ 5 ‡∏à‡∏∏‡∏î)';
            document.getElementById('circuitComplete').style.display = 'none';
        }

        // ‡πÄ‡∏Å‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
        function newControlChallenge() {
            const tempTarget = Math.floor(Math.random() * 80) + 20;
            const pressureTarget = (Math.random() * 8 + 1).toFixed(1);
            
            document.getElementById('tempTarget').textContent = tempTarget;
            document.getElementById('pressureTarget').textContent = pressureTarget;
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤
            document.getElementById('tempSlider').value = 25;
            document.getElementById('pressureSlider').value = 0;
            document.getElementById('controlComplete').style.display = 'none';
            updateControlValues();
        }

        function updateControlValues() {
            const tempValue = document.getElementById('tempSlider').value;
            const pressureValue = document.getElementById('pressureSlider').value;
            
            document.getElementById('tempValue').textContent = tempValue;
            document.getElementById('pressureValue').textContent = pressureValue;
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏Ç‡πá‡∏°‡∏ß‡∏±‡∏î
            const tempAngle = (tempValue / 100) * 180 - 90;
            const pressureAngle = (pressureValue / 10) * 180 - 90;
            
            document.getElementById('tempNeedle').style.transform = 
                `translate(-50%, -100%) rotate(${tempAngle}deg)`;
            document.getElementById('pressureNeedle').style.transform = 
                `translate(-50%, -100%) rotate(${pressureAngle}deg)`;
            
            // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
            const tempTarget = parseInt(document.getElementById('tempTarget').textContent);
            const pressureTarget = parseFloat(document.getElementById('pressureTarget').textContent);
            
            const tempError = Math.abs(tempValue - tempTarget);
            const pressureError = Math.abs(pressureValue - pressureTarget);
            
            const tempAccuracy = Math.max(0, 100 - (tempError * 2));
            const pressureAccuracy = Math.max(0, 100 - (pressureError * 20));
            
            const overallAccuracy = (tempAccuracy + pressureAccuracy) / 2;
            
            document.getElementById('controlAccuracy').textContent = Math.round(overallAccuracy) + '%';
            document.getElementById('controlProgress').style.width = overallAccuracy + '%';
            
            if (overallAccuracy >= 100) {
                if (document.getElementById('controlComplete').style.display === 'none') {
                    document.getElementById('controlComplete').style.display = 'block';
                    if (!gameState.controlCompleted) {
                        gameState.controlScore = 50;
                        gameState.totalScore += gameState.controlScore;
                        gameState.controlCompleted = true;
                        updateScoreBoard();
                        showNextButton();
                        playSuccessSound();
                    }
                }
            } else {
                document.getElementById('controlComplete').style.display = 'none';
            }
        }

        // Event listeners ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö sliders
        document.getElementById('tempSlider').addEventListener('input', updateControlValues);
        document.getElementById('pressureSlider').addEventListener('input', updateControlValues);

        // ‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠
        function showMatchingQuestion() {
            if (gameState.matchingQuestionIndex < matchingQuestions.length) {
                const question = matchingQuestions[gameState.matchingQuestionIndex];
                document.getElementById('matchingQuestion').textContent = question.question;
                
                // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                document.querySelectorAll('.instrument').forEach(inst => {
                    inst.classList.remove('selected');
                    inst.style.background = '#5568a0';
                    inst.style.color = 'white';
                });
                
                document.getElementById('matchingComplete').style.display = 'none';
            } else {
                // ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏Å‡∏°
                document.getElementById('finalMatchingScore').textContent = gameState.matchingScore;
                document.getElementById('matchingComplete').style.display = 'block';
                gameState.matchingCompleted = true;
                showNextButton();
            }
        }

        function selectInstrument(instrumentType) {
            if (gameState.matchingQuestionIndex >= matchingQuestions.length) return;
            
            const question = matchingQuestions[gameState.matchingQuestionIndex];
            const isCorrect = instrumentType === question.answer;
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
            document.querySelectorAll('.instrument').forEach(inst => inst.classList.remove('selected'));
            const selectedInstrument = event.target.closest('.instrument');
            selectedInstrument.classList.add('selected');
            
            if (isCorrect) {
                selectedInstrument.style.background = '#ecb445';
                selectedInstrument.style.color = '#333';
                gameState.matchingScore++;
                document.getElementById('matchingScore').textContent = gameState.matchingScore;
                gameState.totalScore += 20;
                updateScoreBoard();
                playSuccessSound();
            } else {
                selectedInstrument.style.background = '#e54c4e';
                selectedInstrument.style.color = 'white';
                gameState.totalScore = Math.max(0, gameState.totalScore - 15);
                updateScoreBoard();
            }
            
            setTimeout(() => {
                gameState.matchingQuestionIndex++;
                showMatchingQuestion();
            }, 1500);
        }



        // ‡πÄ‡∏Å‡∏°‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤
        function showTroubleshootScenario() {
            if (gameState.troubleshootQuestionIndex < troubleshootScenarios.length) {
                const scenario = troubleshootScenarios[gameState.troubleshootQuestionIndex];
                document.getElementById('troubleshootScenario').textContent = 
                    '‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ' + scenario.scenario;
                
                // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
                const scenarioElement = document.getElementById('troubleshootScenario');
                scenarioElement.innerHTML = '‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ' + scenario.scenario + '<br><p>' + scenario.question + '</p>';
                
                const optionsContainer = document.getElementById('troubleshootOptions');
                optionsContainer.innerHTML = '';
                
                scenario.options.forEach((option, index) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    optionDiv.textContent = option;
                    optionDiv.onclick = () => selectTroubleshootOption(index);
                    optionsContainer.appendChild(optionDiv);
                });
                
                document.getElementById('troubleshootComplete').style.display = 'none';
            } else {
                // ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏Å‡∏°
                document.getElementById('finalTroubleshootScore').textContent = gameState.troubleshootScore;
                document.getElementById('troubleshootComplete').style.display = 'block';
                gameState.troubleshootCompleted = true;
                showNextButton();
            }
        }

        function selectTroubleshootOption(optionIndex) {
            if (gameState.troubleshootQuestionIndex >= troubleshootScenarios.length) return;
            
            const scenario = troubleshootScenarios[gameState.troubleshootQuestionIndex];
            const isCorrect = optionIndex === scenario.correct;
            
            const options = document.querySelectorAll('#troubleshootOptions .option');
            options.forEach(option => option.classList.remove('correct', 'wrong'));
            
            if (isCorrect) {
                options[optionIndex].classList.add('correct');
                gameState.troubleshootScore++;
                document.getElementById('troubleshootScore').textContent = gameState.troubleshootScore;
                gameState.totalScore += 30;
                updateScoreBoard();
                playSuccessSound();
            } else {
                options[optionIndex].classList.add('wrong');
                options[scenario.correct].classList.add('correct');
                gameState.totalScore = Math.max(0, gameState.totalScore - 15);
                updateScoreBoard();
            }
            
            setTimeout(() => {
                gameState.troubleshootQuestionIndex++;
                showTroubleshootScenario();
            }, 2000);
        }



        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
        function updateScoreBoard() {
            document.getElementById('totalScore').textContent = gameState.totalScore;
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏ß‡∏•‡∏≤
            const elapsed = Math.floor((Date.now() - gameState.startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á
        function playSuccessSound() {
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.frequency.setValueAtTime(1000, audioContext.currentTime + 0.1);
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.3);
            } catch (e) {
                // ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏î‡πâ
            }
        }



        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤
        function showRules() {
            document.getElementById('rulesModal').style.display = 'block';
        }

        function closeRules() {
            document.getElementById('rulesModal').style.display = 'none';
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
        function showFinalAssessment() {
            const totalPossible = 100 + 50 + 100 + 90; // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÄ‡∏Å‡∏°
            const percentage = (gameState.totalScore / totalPossible) * 100;
            
            let grade, assessment, recommendation;
            
            if (percentage >= 90) {
                grade = "üèÜ ‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° (A)";
                assessment = "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°";
                recommendation = "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î, ‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏ö‡∏ö";
            } else if (percentage >= 80) {
                grade = "üéØ ‡∏î‡∏µ‡∏°‡∏≤‡∏Å (B+)";
                assessment = "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î";
                recommendation = "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î‡∏≠‡∏≤‡∏ß‡∏∏‡πÇ‡∏™, ‡∏ä‡πà‡∏≤‡∏á‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤";
            } else if (percentage >= 70) {
                grade = "üëç ‡∏î‡∏µ (B)";
                assessment = "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏£‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°";
                recommendation = "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á: ‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏±‡∏î, ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ";
            } else if (percentage >= 60) {
                grade = "üìö ‡∏û‡∏≠‡πÉ‡∏ä‡πâ (C+)";
                assessment = "‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°";
                recommendation = "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°, ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏ä‡πà‡∏≤‡∏á";
            } else {
                grade = "‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á (C)";
                assessment = "‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏Å";
                recommendation = "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô, ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°";
            }
            
            document.getElementById('overallGrade').textContent = `üéØ ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏±‡∏Å‡∏©‡∏∞: ${grade}`;
            document.getElementById('assessmentText').innerHTML = `
                <p>${assessment}</p>
                <p><strong>üíº ${recommendation}</strong></p>
                <p>üìä ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: ${gameState.totalScore}/${totalPossible} (${percentage.toFixed(1)}%)</p>
            `;
            
            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏ô
            const summaryHTML = `
                <div class="summary-card">
                    <h4>‚ö° ‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå</h4>
                    <p>${gameState.circuitScore}/100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    <small>‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î ${gameState.wrongAttempts} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</small>
                </div>
                <div class="summary-card">
                    <h4>üéõÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</h4>
                    <p>${gameState.controlScore}/50 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    <small>${gameState.controlCompleted ? '‡∏ú‡πà‡∏≤‡∏ô' : '‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô'}</small>
                </div>
                <div class="summary-card">
                    <h4>üîß ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠</h4>
                    <p>${gameState.matchingScore * 20}/100 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    <small>${gameState.matchingScore}/5 ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏π‡∏Å</small>
                </div>
                <div class="summary-card">
                    <h4>üîç ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h4>
                    <p>${gameState.troubleshootScore * 30}/90 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                    <small>${gameState.troubleshootScore}/3 ‡∏Ç‡πâ‡∏≠‡∏ñ‡∏π‡∏Å</small>
                </div>
            `;
            document.getElementById('gameSummary').innerHTML = summaryHTML;
            
            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏ñ‡∏ö‡∏ó‡∏±‡∏Å‡∏©‡∏∞
            document.getElementById('circuitSkill').style.width = `${(gameState.circuitScore / 100) * 100}%`;
            document.getElementById('controlSkill').style.width = `${(gameState.controlScore / 50) * 100}%`;
            document.getElementById('knowledgeSkill').style.width = `${(gameState.matchingScore / 5) * 100}%`;
            document.getElementById('problemSkill').style.width = `${(gameState.troubleshootScore / 3) * 100}%`;
            
            document.getElementById('assessmentModal').style.display = 'block';
        }

        function closeAssessment() {
            document.getElementById('assessmentModal').style.display = 'none';
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        function resetAllGames() {
            gameState = {
                currentGame: 'circuit',
                totalScore: 0,
                accuracy: 100,
                level: 1,
                startTime: Date.now(),
                circuitConnections: [],
                selectedComponent: null,
                matchingQuestionIndex: 0,
                troubleshootQuestionIndex: 0,
                matchingScore: 0,
                troubleshootScore: 0,
                controlScore: 0,
                circuitScore: 0,
                circuitAttempts: 3,
                wrongAttempts: 0,
                circuitCompleted: false,
                controlCompleted: false,
                matchingCompleted: false,
                troubleshootCompleted: false,
                allGamesCompleted: false
            };
            
            closeAssessment();
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏∏‡∏Å‡πÄ‡∏Å‡∏°
            resetCircuit();
            newControlChallenge();
            document.getElementById('matchingScore').textContent = '0';
            document.getElementById('troubleshootScore').textContent = '0';
            
            // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï UI
            document.querySelectorAll('.completion-message').forEach(msg => {
                msg.style.display = 'none';
            });
            
            updateScoreBoard();
            
            // ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            
            // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            document.querySelectorAll('.game-content').forEach(content => content.style.display = 'none');
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        function startGame() {
            document.getElementById('startBtn').style.display = 'none';
            selectGame('circuit');
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏î‡πà‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
        function showNextButton() {
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÑ‡∏õ‡∏î‡πà‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
        function nextGame() {
            const gameOrder = ['circuit', 'control', 'matching', 'troubleshoot'];
            const currentIndex = gameOrder.indexOf(gameState.currentGame);
            
            if (currentIndex < gameOrder.length - 1) {
                const nextGameType = gameOrder[currentIndex + 1];
                selectGame(nextGameType);
                document.getElementById('nextBtn').style.display = 'none';
            } else {
                // ‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
                checkAllGamesCompleted();
                document.getElementById('nextBtn').style.display = 'none';
            }
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó)
        function checkAllGamesCompleted() {
            if (gameState.circuitCompleted && gameState.controlCompleted && 
                gameState.matchingCompleted && gameState.troubleshootCompleted && 
                !gameState.allGamesCompleted) {
                
                gameState.allGamesCompleted = true;
                setTimeout(() => {
                    showFinalAssessment();
                }, 1000);
            }
        }

        // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
        window.onload = function() {
            // ‡∏ã‡πà‡∏≠‡∏ô‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°
            document.querySelectorAll('.game-content').forEach(content => content.style.display = 'none');
            setInterval(updateScoreBoard, 1000);
        };
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'977a2e89113e45bd',t:'MTc1NjYxODcwNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
