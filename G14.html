<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cabin Crew Reality Training - Professional Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Sarabun', sans-serif;
        }
        
        .airplane-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 25%, #334155 50%, #475569 75%, #64748b 100%);
            position: relative;
        }
        
        .airplane-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="%23ffffff" stroke-width="0.1" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .cabin-interior {
            background: linear-gradient(145deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);
            border-radius: 24px;
            box-shadow: 
                inset 0 8px 32px rgba(0,0,0,0.1),
                0 16px 64px rgba(0,0,0,0.2),
                0 0 0 1px rgba(255,255,255,0.1);
            position: relative;
            backdrop-filter: blur(20px);
        }
        
        .choice-btn {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .choice-btn:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 16px 48px rgba(0,0,0,0.2);
            border-color: #3b82f6;
        }
        
        .choice-btn.correct {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            animation: success-pulse 0.6s ease-out;
        }
        
        .choice-btn.incorrect {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            animation: error-shake 0.6s ease-out;
        }
        
        @keyframes success-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes error-shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #10b981 0%, #34d399 50%, #6ee7b7 100%);
            border-radius: 12px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .scenario-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 16px 64px rgba(0,0,0,0.1);
        }
        
        .passenger-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            background: linear-gradient(135deg, #ffffff 0%, #f1f5f9 100%);
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            border: 4px solid #e2e8f0;
        }
        
        .timer-critical {
            animation: critical-blink 1s infinite;
            color: #ef4444 !important;
            font-weight: 800;
        }
        
        @keyframes critical-blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border-radius: 16px;
            padding: 16px 24px;
            box-shadow: 0 16px 48px rgba(0,0,0,0.2);
            border-left: 6px solid #3b82f6;
            transform: translateX(400px);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .cabin-layout {
            display: grid;
            grid-template-columns: 1fr 60px 1fr;
            gap: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 20px;
        }
        
        .passenger-seat {
            background: linear-gradient(145deg, #3b82f6 0%, #1d4ed8 100%);
            border-radius: 12px;
            padding: 12px;
            box-shadow: 0 4px 16px rgba(59, 130, 246, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
            color: white;
            text-align: center;
        }
        
        .passenger-seat:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(59, 130, 246, 0.4);
        }
        
        .passenger-seat.served {
            background: linear-gradient(145deg, #10b981 0%, #059669 100%);
        }
        
        .passenger-seat.needs-attention {
            background: linear-gradient(145deg, #ef4444 0%, #dc2626 100%);
            animation: attention-pulse 2s infinite;
        }
        
        @keyframes attention-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .service-item {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 16px;
            padding: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .service-item:hover {
            border-color: #3b82f6;
            transform: translateY(-4px);
            box-shadow: 0 16px 48px rgba(0,0,0,0.12);
        }
        
        .service-item.selected {
            border-color: #10b981;
            background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%);
        }
        
        .score-meter {
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            border-radius: 12px;
            padding: 4px;
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .score-fill {
            border-radius: 8px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .score-fill.excellent {
            background: linear-gradient(90deg, #10b981, #34d399);
        }
        
        .score-fill.good {
            background: linear-gradient(90deg, #3b82f6, #60a5fa);
        }
        
        .score-fill.average {
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
        }
        
        .score-fill.poor {
            background: linear-gradient(90deg, #ef4444, #f87171);
        }
        
        .glass-morphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .achievement-badge {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            box-shadow: 0 4px 16px rgba(245, 158, 11, 0.3);
            animation: badge-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes badge-glow {
            from { box-shadow: 0 4px 16px rgba(245, 158, 11, 0.3); }
            to { box-shadow: 0 8px 32px rgba(245, 158, 11, 0.6); }
        }
    </style>
</head>
<body class="airplane-bg min-h-screen overflow-auto">
    <!-- Notification System -->
    <div class="notification" id="notification">
        <div class="flex items-center gap-3">
            <span class="text-2xl" id="notificationIcon">‚ÑπÔ∏è</span>
            <div>
                <div class="font-semibold" id="notificationTitle">‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
                <div class="text-sm text-gray-600" id="notificationMessage">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
            </div>
        </div>
    </div>
    
    <!-- Game Container -->
    <div class="container mx-auto px-4 py-6 relative z-10">
        <!-- Header -->
        <div class="text-center mb-6">
            <h1 class="text-5xl font-bold text-white mb-2">‚úàÔ∏è Cabin Crew Reality Training</h1>
            <p class="text-blue-100 text-xl">‡∏£‡∏∞‡∏ö‡∏ö‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÅ‡∏≠‡∏£‡πå‡πÇ‡∏Æ‡∏™‡πÄ‡∏ï‡∏™‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</p>
        </div>

        <!-- Stats Dashboard -->
        <div class="glass-morphism rounded-3xl p-6 mb-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="text-center">
                    <div class="score-meter mb-2">
                        <div class="score-fill excellent h-4" id="scoreFill" style="width: 100%"></div>
                    </div>
                    <div class="text-2xl font-bold text-white" id="totalScore">100</div>
                    <div class="text-blue-100 text-sm">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</div>
                </div>
                <div class="text-center">
                    <div class="score-meter mb-2">
                        <div class="score-fill excellent h-4" id="professionalismFill" style="width: 100%"></div>
                    </div>
                    <div class="text-2xl font-bold text-white" id="professionalismScore">100</div>
                    <div class="text-blue-100 text-sm">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</div>
                </div>
                <div class="text-center">
                    <div class="score-meter mb-2">
                        <div class="score-fill excellent h-4" id="safetyFill" style="width: 100%"></div>
                    </div>
                    <div class="text-2xl font-bold text-white" id="safetyScore">100</div>
                    <div class="text-blue-100 text-sm">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</div>
                </div>
                <div class="text-center">
                    <div class="score-meter mb-2">
                        <div class="score-fill excellent h-4" id="serviceFill" style="width: 100%"></div>
                    </div>
                    <div class="text-2xl font-bold text-white" id="serviceScore">100</div>
                    <div class="text-blue-100 text-sm">‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>
                </div>
            </div>
        </div>

        <!-- Flight Progress -->
        <div class="glass-morphism rounded-3xl p-6 mb-6">
            <div class="flex flex-col md:flex-row items-center justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="bg-green-600 text-white px-6 py-3 rounded-full font-bold" id="currentPhase">
                        Boarding & Safety
                    </div>
                    <div class="bg-red-600 text-white px-4 py-2 rounded-lg font-bold" id="seatbeltSign">
                        üî¥ FASTEN SEATBELT
                    </div>
                </div>
                <div class="text-white font-bold text-xl" id="flightTimer">00:00:00</div>
            </div>
            <div class="mt-4">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-white font-semibold">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô</span>
                    <span class="text-white text-sm" id="progressPercentage">0%</span>
                </div>
                <div class="bg-white/20 rounded-full h-4">
                    <div class="progress-bar h-4" id="flightProgressBar" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Main Game Screen -->
        <div id="gameScreen" class="cabin-interior p-8 min-h-96 relative">
            <!-- Welcome Screen -->
            <div id="welcomeScreen" class="text-center">
                <div class="text-8xl mb-6 animate-bounce">üõ´</div>
                <h2 class="text-4xl font-bold text-gray-800 mb-6">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</h2>
                <p class="text-gray-600 mb-8 text-xl leading-relaxed max-w-4xl mx-auto">
                    ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏£‡πå‡πÇ‡∏Æ‡∏™‡πÄ‡∏ï‡∏™‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡πÅ‡∏ö‡∏ö AI 
                    ‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á
                </p>
                
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-blue-600 text-white p-6 rounded-2xl">
                        <h3 class="font-bold text-lg mb-2">üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°</h3>
                        <ul class="text-left space-y-2 text-sm">
                            <li>‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</li>
                            <li>‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</li>
                            <li>‚Ä¢ ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ç‡πâ‡∏≤‡∏°‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°</li>
                            <li>‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏î‡∏î‡∏±‡∏ô</li>
                        </ul>
                    </div>
                    
                    <div class="bg-green-600 text-white p-6 rounded-2xl">
                        <h3 class="font-bold text-lg mb-2">‚è±Ô∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h3>
                        <ul class="text-left space-y-2 text-sm">
                            <li>‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≥‡∏Å‡∏±‡∏î</li>
                            <li>‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏á‡∏≤‡∏ô</li>
                            <li>‚Ä¢ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î</li>
                            <li>‚Ä¢ ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤</li>
                        </ul>
                    </div>
                    
                    <div class="bg-purple-600 text-white p-6 rounded-2xl">
                        <h3 class="font-bold text-lg mb-2">üèÜ ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≤‡∏ô</h3>
                        <ul class="text-left space-y-2 text-sm">
                            <li>‚Ä¢ 90-100: Cabin Crew ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏•</li>
                            <li>‚Ä¢ 75-89: Cabin Crew ‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î</li>
                            <li>‚Ä¢ 60-74: ‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏Ñ‡∏û‡∏∑‡πâ‡∏ô</li>
                            <li>‚Ä¢ <60: ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</li>
                        </ul>
                    </div>
                </div>
                
                <button onclick="startGame()" class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-12 py-4 rounded-full text-xl font-bold transition-all duration-500 transform hover:scale-110 hover:shadow-2xl">
                    üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°
                </button>
            </div>

            <!-- Cabin Layout Screen -->
            <div id="cabinLayoutScreen" class="hidden">
                <h3 class="text-3xl font-bold text-gray-800 mb-6 text-center">üõ©Ô∏è ‡∏ú‡∏±‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô TG-001</h3>
                
                <div class="cabin-layout mb-6">
                    <!-- Left Side Seats -->
                    <div class="space-y-4">
                        <div class="text-center font-semibold text-gray-700 mb-2">‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ù‡∏±‡πà‡∏á‡∏ã‡πâ‡∏≤‡∏¢ (A-C)</div>
                        <div id="leftSeats" class="space-y-3">
                            <!-- Seats will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Aisle -->
                    <div class="bg-gray-300 rounded-lg flex flex-col items-center justify-center">
                        <div class="text-gray-600 font-semibold text-sm transform -rotate-90">‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô</div>
                        <div class="bg-blue-200 p-2 rounded mt-4 text-center text-xs">
                            üõí ‡∏£‡∏ñ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏≠‡∏≤‡∏´‡∏≤‡∏£
                        </div>
                    </div>
                    
                    <!-- Right Side Seats -->
                    <div class="space-y-4">
                        <div class="text-center font-semibold text-gray-700 mb-2">‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏ß‡∏≤ (D-F)</div>
                        <div id="rightSeats" class="space-y-3">
                            <!-- Seats will be populated here -->
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button onclick="proceedToScenarios()" class="bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105">
                        ‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏≥‡∏•‡∏≠‡∏á
                    </button>
                </div>
            </div>

            <!-- Scenario Screen -->
            <div id="scenarioScreen" class="hidden">
                <div class="scenario-card p-8 mb-6">
                    <div class="flex items-start gap-6 mb-6">
                        <div class="passenger-avatar" id="scenarioPassengerAvatar">
                            üë§
                        </div>
                        <div class="flex-1">
                            <h3 class="font-bold text-xl text-gray-800 mb-2" id="scenarioPassengerName">‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</h3>
                            <p class="text-gray-600 mb-4" id="scenarioPassengerType">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</p>
                        </div>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-blue-600 mb-2" id="scenarioTimer">05:00</div>
                            <div class="text-sm text-gray-600">‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à</div>
                        </div>
                    </div>
                    
                    <div class="bg-red-50 border-l-4 border-red-400 p-4 mb-6">
                        <h4 class="font-bold text-red-800 mb-2">üö® ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå</h4>
                        <p class="text-gray-800" id="scenarioDescription">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</p>
                    </div>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 mb-6">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">üí¨</span>
                            <div>
                                <div class="font-semibold mb-1">‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏û‡∏π‡∏î‡∏ß‡πà‡∏≤:</div>
                                <div class="text-gray-700" id="scenarioDialog">"‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£"</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Choice System -->
                <div class="grid gap-4" id="choicesContainer">
                    <!-- Choices will be populated here -->
                </div>
            </div>

            <!-- Service Screen -->
            <div id="serviceScreen" class="hidden">
                <div class="text-center mb-6">
                    <h3 class="text-3xl font-bold text-gray-800 mb-2">üçΩÔ∏è ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</h3>
                    <p class="text-gray-600 mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£</p>
                    <div class="text-2xl font-bold text-blue-600" id="serviceTimer">‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: 180 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
                </div>

                <!-- Menu System -->
                <div class="grid md:grid-cols-2 gap-6 mb-6">
                    <!-- Main Courses -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h4 class="font-bold text-lg mb-4">ü•ò ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å</h4>
                        <div class="space-y-3" id="mainCourseMenu">
                            <div class="service-item" data-item="chicken-teriyaki" onclick="selectMenuItem('chicken-teriyaki', 'main')">
                                <div class="font-semibold">üçó ‡πÑ‡∏Å‡πà‡πÄ‡∏ó‡∏≠‡∏£‡∏¥‡∏¢‡∏≤‡∏Å‡∏¥</div>
                                <div class="text-sm text-gray-600">‡πÑ‡∏Å‡πà‡∏¢‡πà‡∏≤‡∏á‡∏ã‡∏≠‡∏™‡πÄ‡∏ó‡∏≠‡∏£‡∏¥‡∏¢‡∏≤‡∏Å‡∏¥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≤‡∏ß‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô</div>
                            </div>
                            
                            <div class="service-item" data-item="salmon-grill" onclick="selectMenuItem('salmon-grill', 'main')">
                                <div class="font-semibold">üêü ‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô‡∏¢‡πà‡∏≤‡∏á</div>
                                <div class="text-sm text-gray-600">‡∏õ‡∏•‡∏≤‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô‡∏¢‡πà‡∏≤‡∏á ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ú‡∏±‡∏Å‡πÇ‡∏£‡∏™‡∏ï‡πå</div>
                            </div>
                            
                            <div class="service-item" data-item="vegetarian-curry" onclick="selectMenuItem('vegetarian-curry', 'main')">
                                <div class="font-semibold">ü•ó ‡πÅ‡∏Å‡∏á‡πÄ‡∏à</div>
                                <div class="text-sm text-gray-600">‡πÅ‡∏Å‡∏á‡πÄ‡∏à‡πÉ‡∏™‡πà‡∏ú‡∏±‡∏Å‡∏£‡∏ß‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≤‡∏ß‡∏Å‡∏•‡πâ‡∏≠‡∏á</div>
                            </div>
                        </div>
                    </div>

                    <!-- Beverages -->
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h4 class="font-bold text-lg mb-4">ü•§ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</h4>
                        <div class="grid grid-cols-2 gap-2" id="beverageMenu">
                            <div class="service-item text-center p-3" onclick="selectMenuItem('water', 'beverage')">
                                <div class="font-semibold">üíß ‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤</div>
                            </div>
                            <div class="service-item text-center p-3" onclick="selectMenuItem('juice', 'beverage')">
                                <div class="font-semibold">üßÉ ‡∏ô‡πâ‡∏≥‡∏ú‡∏•‡πÑ‡∏°‡πâ</div>
                            </div>
                            <div class="service-item text-center p-3" onclick="selectMenuItem('coffee', 'beverage')">
                                <div class="font-semibold">‚òï ‡∏Å‡∏≤‡πÅ‡∏ü</div>
                            </div>
                            <div class="service-item text-center p-3" onclick="selectMenuItem('tea', 'beverage')">
                                <div class="font-semibold">üçµ ‡∏ä‡∏≤</div>
                            </div>
                            <div class="service-item text-center p-3" onclick="selectMenuItem('soda', 'beverage')">
                                <div class="font-semibold">ü•§ ‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏°</div>
                            </div>
                            <div class="service-item text-center p-3" onclick="selectMenuItem('wine', 'beverage')">
                                <div class="font-semibold">üç∑ ‡πÑ‡∏ß‡∏ô‡πå</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Passenger Queue -->
                <div class="bg-white p-6 rounded-2xl shadow-lg mb-6">
                    <h4 class="font-bold text-xl mb-4">üë• ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</h4>
                    <div id="passengerQueue" class="space-y-4">
                        <!-- Passenger queue will be populated here -->
                    </div>
                </div>

                <!-- Service Actions -->
                <div class="grid md:grid-cols-2 gap-4">
                    <button onclick="serveSelectedPassenger()" class="bg-green-600 hover:bg-green-700 text-white p-4 rounded-lg text-center font-semibold">
                        <div class="text-2xl mb-2">üçΩÔ∏è</div>
                        <div>‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
                    </button>
                    
                    <button onclick="proceedToResults()" class="bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-lg text-center font-semibold">
                        <div class="text-2xl mb-2">‚úÖ</div>
                        <div>‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</div>
                    </button>
                </div>
            </div>

            <!-- Results Screen -->
            <div id="resultsScreen" class="hidden text-center">
                <div class="text-8xl mb-6" id="resultEmoji">üéâ</div>
                <h2 class="text-4xl font-bold text-gray-800 mb-6" id="resultTitle">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h2>
                
                <!-- Detailed Scores -->
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold mb-4">üìä ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û</span>
                                <span class="font-bold text-2xl" id="finalProfessionalismScore">95</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</span>
                                <span class="font-bold text-2xl" id="finalSafetyScore">92</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span>‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span>
                                <span class="font-bold text-2xl" id="finalServiceScore">88</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-xl font-bold mb-4">üèÜ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h3>
                        <div class="space-y-3" id="achievementsList">
                            <div class="achievement-badge">üåü Perfect Safety Record</div>
                            <div class="achievement-badge">üíé Customer Delight Expert</div>
                            <div class="achievement-badge">‚ö° Crisis Management Pro</div>
                        </div>
                    </div>
                </div>
                
                <!-- Certification -->
                <div class="bg-gradient-to-r from-green-600 to-teal-600 text-white p-8 rounded-2xl mb-8">
                    <h3 class="text-2xl font-bold mb-4" id="certificationTitle">üéì ‡πÉ‡∏ö‡∏£‡∏±‡∏ö‡∏£‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h3>
                    <div class="text-4xl font-bold mb-2" id="finalTotalScore">92</div>
                    <div class="text-lg" id="certificationLevel">Cabin Crew ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏•</div>
                </div>
                
                <!-- Action Buttons -->
                <div class="flex justify-center gap-4">
                    <button onclick="restartGame()" class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-3 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105">
                        üîÑ ‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà
                    </button>
                    <button onclick="shareResults()" class="bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white px-8 py-3 rounded-full text-lg font-semibold transition-all duration-300 transform hover:scale-105">
                        üì§ ‡πÅ‡∏ä‡∏£‡πå‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game State Management
        let gameState = {
            currentPhase: 0,
            currentScenario: 0,
            flightTime: 0,
            scores: {
                total: 100,
                professionalism: 100,
                safety: 100,
                service: 100
            },
            selectedFood: null,
            selectedDrink: null,
            serviceTimer: 180,
            scenarioTimer: 300,
            serviceInterval: null,
            scenarioInterval: null,
            flightInterval: null,
            passengers: [],
            currentPassenger: null,
            completedScenarios: 0,
            totalScenarios: 5
        };

        // Scenario Database
        const scenarios = [
            {
                id: 'boarding_001',
                passenger: { 
                    name: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏Å‡∏£', 
                    type: '‡∏ô‡∏±‡∏Å‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á', 
                    avatar: 'üë®‚Äçüíº'
                },
                description: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏ä‡∏±‡πâ‡∏ô‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏´‡∏≠‡∏ö‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤',
                speech: '‡∏ô‡∏µ‡πà‡∏°‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‡∏Å‡∏±‡∏ô! ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤ ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏Å‡πá‡πÉ‡∏™‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏ú‡∏°‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏õ‡∏î‡πà‡∏ß‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°?',
                timeLimit: 45,
                choices: [
                    { 
                        text: 'üòä "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏∞ ‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡πÉ‡∏´‡πâ‡∏î‡∏¥‡∏â‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÉ‡∏´‡πâ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡∏†‡∏≤‡∏Ñ‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞"', 
                        score: { professionalism: 8, service: 10 },
                        outcome: 'excellent'
                    },
                    { 
                        text: 'üòê "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏ï‡πâ‡πÄ‡∏ö‡∏≤‡∏∞ ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏Ñ‡∏£‡∏±‡∏ö"', 
                        score: { professionalism: -5, service: -8 },
                        outcome: 'poor'
                    },
                    { 
                        text: 'üòä "‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡∏ä‡πà‡∏ß‡∏¢‡∏î‡∏π‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÉ‡∏´‡πâ‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏´‡∏≤‡∏Å‡πÉ‡∏™‡πà‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ù‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡πÄ‡∏£‡∏∑‡∏≠‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢"', 
                        score: { professionalism: 6, service: 7, safety: 5 },
                        outcome: 'good'
                    },
                    { 
                        text: 'ü§ù "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡πà‡∏∞ ‡πÉ‡∏´‡πâ‡∏î‡∏¥‡∏â‡∏±‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏≠‡∏£‡πå‡∏°‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏î‡∏π‡πÅ‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô"', 
                        score: { professionalism: 7, service: 8 },
                        outcome: 'very_good'
                    }
                ]
            },
            {
                id: 'boarding_002',
                passenger: { 
                    name: 'Mrs. Sarah Johnson', 
                    type: '‡∏ô‡∏±‡∏Å‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ï‡πà‡∏≤‡∏á‡∏ä‡∏≤‡∏ï‡∏¥', 
                    avatar: 'üë©‚Äçü¶±'
                },
                description: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏ä‡∏≤‡∏ß‡∏≠‡πÄ‡∏°‡∏£‡∏¥‡∏Å‡∏±‡∏ô‡∏û‡∏≤‡∏•‡∏π‡∏Å‡∏™‡∏≤‡∏ß‡∏ß‡∏±‡∏¢ 3 ‡∏Ç‡∏ß‡∏ö‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢ ‡πÄ‡∏î‡πá‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡πâ‡∏≠‡∏á‡πÑ‡∏´‡πâ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏¢‡∏≠‡∏°‡∏ô‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á',
                speech: 'Excuse me, my daughter is crying and I cannot find our seats. The seat numbers are confusing. Can you help us please? She is scared of flying.',
                timeLimit: 60,
                choices: [
                    { 
                        text: 'üòä "Of course! Let me help you find your seats. Don\'t worry, I have some stickers for your daughter. Flying can be fun!"', 
                        score: { professionalism: 9, service: 10 },
                        outcome: 'excellent'
                    },
                    { 
                        text: 'üòê "Please check your boarding pass and find seat number. Child must sit down for safety."', 
                        score: { professionalism: -3, service: -5 },
                        outcome: 'poor'
                    },
                    { 
                        text: 'üòä "Let me show you to your seats and help with your daughter. I have some coloring books that might help her feel better during the flight."', 
                        score: { professionalism: 8, service: 9 },
                        outcome: 'very_good'
                    }
                ]
            },
            {
                id: 'service_001',
                passenger: { 
                    name: '‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡∏≤', 
                    type: '‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏‡πÉ‡∏ä‡πâ‡∏£‡∏ñ‡πÄ‡∏Ç‡πá‡∏ô', 
                    avatar: 'üëµ'
                },
                description: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ó‡∏≤‡∏á‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÑ‡∏î‡πâ',
                speech: '‡∏´‡∏•‡∏≤‡∏ô‡∏™‡∏≤‡∏ß ‡∏¢‡∏≤‡∏¢‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏Ñ‡πá‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡πà‡∏∞ ‡∏°‡∏µ‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏≤‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÄ‡∏Ñ‡πá‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏¢‡∏≤‡∏¢‡πÑ‡∏´‡∏°‡∏Ñ‡∏∞',
                timeLimit: 90,
                choices: [
                    { 
                        text: 'üòä "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡πà‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏≤‡∏¢ ‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≤‡∏ô‡πÑ‡∏õ‡πÄ‡∏≠‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡πÉ‡∏´‡πâ‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏î‡πâ‡∏ß‡∏¢"', 
                        score: { professionalism: 9, service: 10, safety: 8 },
                        outcome: 'excellent'
                    },
                    { 
                        text: 'üòê "‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢‡∏Ñ‡πà‡∏∞ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ ‡∏•‡∏≠‡∏á‡∏Å‡∏¥‡∏ô‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏∞ ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏∞‡∏á‡∏î‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏°‡∏∑‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏Å‡πà‡∏≠‡∏ô"', 
                        score: { professionalism: -2, service: -6 },
                        outcome: 'poor'
                    },
                    { 
                        text: 'üòä "‡πÉ‡∏´‡πâ‡∏´‡∏•‡∏≤‡∏ô‡∏î‡∏π‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡∏ß‡∏ö‡∏¥‡∏ô‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏ú‡∏•‡πÑ‡∏°‡πâ‡∏™‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÑ‡∏´‡∏°‡∏Ñ‡πà‡∏∞ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏≠‡∏£‡πå‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏î‡πâ‡∏ß‡∏¢"', 
                        score: { professionalism: 7, service: 8, safety: 6 },
                        outcome: 'good'
                    }
                ]
            },
            {
                id: 'emergency_001',
                passenger: { 
                    name: '‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò‡πå', 
                    type: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢', 
                    avatar: 'üò∑'
                },
                description: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏ä‡∏≤‡∏¢‡∏ß‡∏±‡∏¢ 45 ‡∏õ‡∏µ ‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡πÄ‡∏à‡πá‡∏ö‡πÅ‡∏•‡∏∞‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡∏≥‡∏ö‡∏≤‡∏Å ‡∏Ç‡∏ì‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏®',
                speech: '‡∏ä‡πà‡∏ß‡∏¢‡∏î‡πâ‡∏ß‡∏¢! ‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡πÄ‡∏à‡πá‡∏ö‡∏°‡∏≤‡∏Å ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏°!',
                timeLimit: 120,
                choices: [
                    { 
                        text: 'üö® "‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏±‡πà‡∏á‡∏û‡∏±‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÉ‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏°‡∏≤‡∏î‡∏π‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏ê‡∏°‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏î‡πâ‡∏ß‡∏¢"', 
                        score: { professionalism: 10, safety: 15, service: 8 },
                        outcome: 'life_saved'
                    },
                    { 
                        text: 'üòê "‡∏Ñ‡∏∏‡∏ì‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡∏∂‡∏Å‡πÜ ‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö"', 
                        score: { professionalism: -5, safety: -10 },
                        outcome: 'dangerous'
                    },
                    { 
                        text: 'ü©∫ "‡∏ú‡∏°‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏Å‡∏±‡∏õ‡∏ï‡∏±‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏´‡∏≤‡∏Å‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏≤‡∏à‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏à‡∏≠‡∏î‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô"', 
                        score: { professionalism: 9, safety: 12, service: 7 },
                        outcome: 'emergency_handled'
                    }
                ]
            },
            {
                id: 'landing_001',
                passenger: { 
                    name: '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á', 
                    type: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Å‡∏•‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô', 
                    avatar: 'üò∞'
                },
                description: '‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏∑‡πà‡∏ô‡∏ï‡∏£‡∏∞‡∏´‡∏ô‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏à‡∏≠‡∏î ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏•‡∏°‡∏õ‡∏±‡πà‡∏ô‡∏õ‡πà‡∏ß‡∏ô',
                speech: '‡∏ä‡πà‡∏ß‡∏¢‡∏î‡πâ‡∏ß‡∏¢! ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏±‡πà‡∏ô‡∏°‡∏≤‡∏Å ‡∏ú‡∏°‡∏Å‡∏•‡∏±‡∏ß‡∏à‡∏∞‡∏ï‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ó‡∏≥‡πÑ‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡πÉ‡∏ô‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢!',
                timeLimit: 120,
                choices: [
                    { 
                        text: 'üòä "‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏ô‡∏±‡∏Å‡∏ö‡∏¥‡∏ô‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏°‡∏≤‡∏Å ‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏™‡∏≠‡∏ô‡∏ó‡πà‡∏≤‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö"', 
                        score: { professionalism: 9, service: 10, safety: 8 },
                        outcome: 'excellent'
                    },
                    { 
                        text: 'üòê "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ô‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≤‡∏î‡πÄ‡∏Ç‡πá‡∏°‡∏Ç‡∏±‡∏î‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢"', 
                        score: { professionalism: 2, service: -3 },
                        outcome: 'poor'
                    },
                    { 
                        text: 'üòä "‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡πÉ‡∏´‡πâ‡∏ú‡∏°‡∏ô‡∏±‡πà‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡πÜ ‡πÅ‡∏•‡∏∞‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏à‡∏≠‡∏î‡πÉ‡∏´‡πâ‡∏ü‡∏±‡∏á ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô"', 
                        score: { professionalism: 8, service: 9, safety: 7 },
                        outcome: 'very_good'
                    }
                ]
            }
        ];

        // Passenger data for service phase
        const passengers = [
            { 
                name: '‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏£‡∏∞‡∏¢‡∏∏‡∏ó‡∏ò‡πå', 
                avatar: 'üë®‚Äçüíº', 
                preference: 'chicken-teriyaki', 
                drink: 'coffee', 
                special: '‡πÑ‡∏°‡πà‡∏ó‡∏≤‡∏ô‡πÄ‡∏ú‡πá‡∏î',
                served: false,
                needsAttention: false
            },
            { 
                name: 'Ms. Emily', 
                avatar: 'üë©‚Äçü¶∞', 
                preference: 'vegetarian-curry', 
                drink: 'wine', 
                special: 'Vegan',
                served: false,
                needsAttention: false
            },
            { 
                name: '‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏°‡πà‡∏ô‡∏¥‡∏î‡∏≤', 
                avatar: 'üë©‚Äçüëß', 
                preference: 'salmon-grill', 
                drink: 'juice', 
                special: '‡πÅ‡∏û‡πâ‡∏ô‡∏°',
                served: false,
                needsAttention: true
            },
            { 
                name: '‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏π‡πà‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå', 
                avatar: 'üë¥', 
                preference: 'chicken-teriyaki', 
                drink: 'tea', 
                special: '‡πÄ‡∏ö‡∏≤‡∏´‡∏ß‡∏≤‡∏ô',
                served: false,
                needsAttention: false
            },
            { 
                name: '‡∏ô‡πâ‡∏≠‡∏á‡∏°‡∏¥‡∏Å‡∏Å‡∏µ‡πâ', 
                avatar: 'üëß', 
                preference: 'chicken-teriyaki', 
                drink: 'juice', 
                special: '‡πÄ‡∏î‡πá‡∏Å 8 ‡∏Ç‡∏ß‡∏ö',
                served: false,
                needsAttention: true
            },
            { 
                name: 'Mr. David', 
                avatar: 'üë®‚Äçü¶≤', 
                preference: 'salmon-grill', 
                drink: 'wine', 
                special: 'Business Class',
                served: false,
                needsAttention: false
            }
        ];

        // Initialize game
        function startGame() {
            document.getElementById('welcomeScreen').classList.add('hidden');
            document.getElementById('cabinLayoutScreen').classList.remove('hidden');
            
            gameState.passengers = [...passengers];
            
            // Start flight timer
            startFlightTimer();
            
            // Generate cabin layout
            generateCabinLayout();
            
            showNotification('üõ´', '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°', '‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏™‡∏π‡πà‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô TG-001');
        }

        function generateCabinLayout() {
            const leftSeats = document.getElementById('leftSeats');
            const rightSeats = document.getElementById('rightSeats');
            
            leftSeats.innerHTML = '';
            rightSeats.innerHTML = '';
            
            // Generate 10 rows of seats
            for (let row = 1; row <= 10; row++) {
                // Left side (A, B, C)
                const leftRow = document.createElement('div');
                leftRow.className = 'flex gap-2';
                
                for (let seat of ['A', 'B', 'C']) {
                    const seatElement = document.createElement('div');
                    seatElement.className = 'passenger-seat';
                    seatElement.innerHTML = `
                        <div class="text-xs font-bold">${row}${seat}</div>
                        <div class="text-lg">üë§</div>
                    `;
                    leftRow.appendChild(seatElement);
                }
                
                leftSeats.appendChild(leftRow);
                
                // Right side (D, E, F)
                const rightRow = document.createElement('div');
                rightRow.className = 'flex gap-2';
                
                for (let seat of ['D', 'E', 'F']) {
                    const seatElement = document.createElement('div');
                    seatElement.className = 'passenger-seat';
                    seatElement.innerHTML = `
                        <div class="text-xs font-bold">${row}${seat}</div>
                        <div class="text-lg">üë§</div>
                    `;
                    rightRow.appendChild(seatElement);
                }
                
                rightSeats.appendChild(rightRow);
            }
        }

        function proceedToScenarios() {
            document.getElementById('cabinLayoutScreen').classList.add('hidden');
            document.getElementById('scenarioScreen').classList.remove('hidden');
            
            updatePhase('Scenario Training');
            loadNextScenario();
        }

        function loadNextScenario() {
            if (gameState.currentScenario >= scenarios.length) {
                proceedToService();
                return;
            }
            
            const scenario = scenarios[gameState.currentScenario];
            
            // Update UI
            document.getElementById('scenarioPassengerAvatar').textContent = scenario.passenger.avatar;
            document.getElementById('scenarioPassengerName').textContent = scenario.passenger.name;
            document.getElementById('scenarioPassengerType').textContent = scenario.passenger.type;
            document.getElementById('scenarioDescription').textContent = scenario.description;
            document.getElementById('scenarioDialog').textContent = scenario.speech;
            
            // Start scenario timer
            gameState.scenarioTimer = scenario.timeLimit;
            startScenarioTimer();
            
            // Generate choices
            generateChoices(scenario.choices);
        }

        function generateChoices(choices) {
            const container = document.getElementById('choicesContainer');
            container.innerHTML = '';
            
            choices.forEach((choice, index) => {
                const choiceElement = document.createElement('button');
                choiceElement.className = 'choice-btn bg-white hover:bg-blue-50 p-6 rounded-xl text-left border-2 border-gray-200';
                choiceElement.innerHTML = `
                    <div class="font-semibold text-gray-800 mb-2">‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ${index + 1}</div>
                    <div class="text-gray-600">${choice.text}</div>
                `;
                
                choiceElement.onclick = () => selectChoice(choice, choiceElement);
                container.appendChild(choiceElement);
            });
        }

        function selectChoice(choice, element) {
            // Stop timer
            clearInterval(gameState.scenarioInterval);
            
            // Update scores
            updateScores(choice.score);
            
            // Visual feedback
            if (choice.outcome === 'excellent' || choice.outcome === 'very_good' || choice.outcome === 'life_saved') {
                element.classList.add('correct');
                showNotification('‚úÖ', '‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!', '‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û');
            } else if (choice.outcome === 'poor' || choice.outcome === 'dangerous') {
                element.classList.add('incorrect');
                showNotification('‚ùå', '‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á', '‡∏•‡∏≠‡∏á‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ');
            } else {
                element.classList.add('correct');
                showNotification('üëç', '‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏µ', '‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°');
            }
            
            // Disable all choices
            const allChoices = document.querySelectorAll('.choice-btn');
            allChoices.forEach(btn => {
                btn.style.pointerEvents = 'none';
            });
            
            // Move to next scenario after delay
            setTimeout(() => {
                gameState.currentScenario++;
                gameState.completedScenarios++;
                updateProgress();
                loadNextScenario();
            }, 2000);
        }

        function proceedToService() {
            document.getElementById('scenarioScreen').classList.add('hidden');
            document.getElementById('serviceScreen').classList.remove('hidden');
            
            updatePhase('Meal Service');
            
            // Start service timer
            gameState.serviceTimer = 180;
            startServiceTimer();
            
            // Generate passenger queue
            generatePassengerQueue();
        }

        function generatePassengerQueue() {
            const container = document.getElementById('passengerQueue');
            container.innerHTML = '';
            
            gameState.passengers.forEach((passenger, index) => {
                const passengerElement = document.createElement('div');
                passengerElement.className = `bg-white p-4 rounded-lg border-2 ${passenger.needsAttention ? 'border-red-300 bg-red-50' : 'border-gray-200'} ${passenger.served ? 'opacity-50' : ''}`;
                passengerElement.innerHTML = `
                    <div class="flex items-center gap-4">
                        <div class="text-3xl">${passenger.avatar}</div>
                        <div class="flex-1">
                            <div class="font-semibold">${passenger.name}</div>
                            <div class="text-sm text-gray-600">‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£: ${passenger.preference} + ${passenger.drink}</div>
                            <div class="text-xs text-blue-600">${passenger.special}</div>
                        </div>
                        <div class="text-right">
                            ${passenger.served ? 
                                '<span class="text-green-600 font-semibold">‚úÖ ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡πÅ‡∏•‡πâ‡∏ß</span>' : 
                                `<button onclick="selectPassenger(${index})" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>`
                            }
                        </div>
                    </div>
                `;
                
                container.appendChild(passengerElement);
            });
        }

        function selectPassenger(index) {
            gameState.currentPassenger = index;
            
            // Highlight selected passenger
            const passengerElements = document.querySelectorAll('#passengerQueue > div');
            passengerElements.forEach((el, i) => {
                if (i === index) {
                    el.classList.add('ring-4', 'ring-blue-400');
                } else {
                    el.classList.remove('ring-4', 'ring-blue-400');
                }
            });
            
            showNotification('üë§', '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£', `‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ${gameState.passengers[index].name} ‡πÅ‡∏•‡πâ‡∏ß`);
        }

        function selectMenuItem(item, type) {
            if (type === 'main') {
                gameState.selectedFood = item;
                
                // Update visual selection
                document.querySelectorAll('#mainCourseMenu .service-item').forEach(el => {
                    el.classList.remove('selected');
                });
                document.querySelector(`[data-item="${item}"]`).classList.add('selected');
                
            } else if (type === 'beverage') {
                gameState.selectedDrink = item;
                
                // Update visual selection
                document.querySelectorAll('#beverageMenu .service-item').forEach(el => {
                    el.classList.remove('selected');
                });
                event.target.closest('.service-item').classList.add('selected');
            }
            
            showNotification('üçΩÔ∏è', '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£', `‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ${type === 'main' ? '‡∏≠‡∏≤‡∏´‡∏≤‡∏£' : '‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°'} ‡πÅ‡∏•‡πâ‡∏ß`);
        }

        function serveSelectedPassenger() {
            if (gameState.currentPassenger === null) {
                showNotification('‚ö†Ô∏è', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£', '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÇ‡∏î‡∏¢‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏Å‡πà‡∏≠‡∏ô');
                return;
            }
            
            if (!gameState.selectedFood || !gameState.selectedDrink) {
                showNotification('‚ö†Ô∏è', '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°', '‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü');
                return;
            }
            
            const passenger = gameState.passengers[gameState.currentPassenger];
            
            // Check if selection matches preference
            let serviceScore = 5;
            if (gameState.selectedFood === passenger.preference) {
                serviceScore += 3;
            }
            if (gameState.selectedDrink === passenger.drink) {
                serviceScore += 2;
            }
            
            // Mark as served
            passenger.served = true;
            
            // Update scores
            updateScores({ service: serviceScore });
            
            // Reset selections
            gameState.selectedFood = null;
            gameState.selectedDrink = null;
            gameState.currentPassenger = null;
            
            // Update UI
            document.querySelectorAll('.service-item').forEach(el => {
                el.classList.remove('selected');
            });
            
            generatePassengerQueue();
            
            showNotification('‚úÖ', '‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', `‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü ${passenger.name} ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß`);
        }

        function proceedToResults() {
            document.getElementById('serviceScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            clearInterval(gameState.serviceInterval);
            clearInterval(gameState.flightInterval);
            
            updatePhase('Flight Complete');
            
            // Calculate final results
            calculateFinalResults();
        }

        function calculateFinalResults() {
            const totalScore = Math.round((gameState.scores.professionalism + gameState.scores.safety + gameState.scores.service) / 3);
            
            // Update final scores
            document.getElementById('finalTotalScore').textContent = totalScore;
            document.getElementById('finalProfessionalismScore').textContent = gameState.scores.professionalism;
            document.getElementById('finalSafetyScore').textContent = gameState.scores.safety;
            document.getElementById('finalServiceScore').textContent = gameState.scores.service;
            
            // Determine certification level
            let certificationLevel, resultEmoji, resultTitle;
            
            if (totalScore >= 90) {
                certificationLevel = 'Cabin Crew ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≤‡∏Å‡∏•';
                resultEmoji = 'üèÜ';
                resultTitle = '‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô';
            } else if (totalScore >= 75) {
                certificationLevel = 'Cabin Crew ‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î';
                resultEmoji = 'üéâ';
                resultTitle = '‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô';
            } else if (totalScore >= 60) {
                certificationLevel = '‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏Ñ‡∏û‡∏∑‡πâ‡∏ô';
                resultEmoji = 'üëç';
                resultTitle = '‡∏ú‡πà‡∏≤‡∏ô ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
            } else {
                certificationLevel = '‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
                resultEmoji = 'üìö';
                resultTitle = '‡∏Ñ‡∏ß‡∏£‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
            }
            
            document.getElementById('certificationLevel').textContent = certificationLevel;
            document.getElementById('resultEmoji').textContent = resultEmoji;
            document.getElementById('resultTitle').textContent = resultTitle;
        }

        function updateScores(scoreChanges) {
            Object.keys(scoreChanges).forEach(key => {
                if (gameState.scores.hasOwnProperty(key)) {
                    gameState.scores[key] = Math.max(0, Math.min(100, gameState.scores[key] + scoreChanges[key]));
                }
            });
            
            // Update total score
            gameState.scores.total = Math.round((gameState.scores.professionalism + gameState.scores.safety + gameState.scores.service) / 3);
            
            // Update UI
            updateScoreDisplay();
        }

        function updateScoreDisplay() {
            document.getElementById('totalScore').textContent = gameState.scores.total;
            document.getElementById('professionalismScore').textContent = gameState.scores.professionalism;
            document.getElementById('safetyScore').textContent = gameState.scores.safety;
            document.getElementById('serviceScore').textContent = gameState.scores.service;
            
            // Update progress bars
            document.getElementById('scoreFill').style.width = `${gameState.scores.total}%`;
            document.getElementById('professionalismFill').style.width = `${gameState.scores.professionalism}%`;
            document.getElementById('safetyFill').style.width = `${gameState.scores.safety}%`;
            document.getElementById('serviceFill').style.width = `${gameState.scores.service}%`;
            
            // Update fill colors based on score
            updateFillColor('scoreFill', gameState.scores.total);
            updateFillColor('professionalismFill', gameState.scores.professionalism);
            updateFillColor('safetyFill', gameState.scores.safety);
            updateFillColor('serviceFill', gameState.scores.service);
        }

        function updateFillColor(elementId, score) {
            const element = document.getElementById(elementId);
            element.className = element.className.replace(/\b(excellent|good|average|poor)\b/g, '');
            
            if (score >= 90) {
                element.classList.add('excellent');
            } else if (score >= 75) {
                element.classList.add('good');
            } else if (score >= 60) {
                element.classList.add('average');
            } else {
                element.classList.add('poor');
            }
        }

        function updatePhase(phase) {
            document.getElementById('currentPhase').textContent = phase;
        }

        function updateProgress() {
            const progress = (gameState.completedScenarios / gameState.totalScenarios) * 100;
            document.getElementById('flightProgressBar').style.width = `${progress}%`;
            document.getElementById('progressPercentage').textContent = `${Math.round(progress)}%`;
        }

        function startFlightTimer() {
            gameState.flightInterval = setInterval(() => {
                gameState.flightTime++;
                const hours = Math.floor(gameState.flightTime / 3600);
                const minutes = Math.floor((gameState.flightTime % 3600) / 60);
                const seconds = gameState.flightTime % 60;
                
                document.getElementById('flightTimer').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        function startScenarioTimer() {
            gameState.scenarioInterval = setInterval(() => {
                gameState.scenarioTimer--;
                
                const minutes = Math.floor(gameState.scenarioTimer / 60);
                const seconds = gameState.scenarioTimer % 60;
                
                const timerElement = document.getElementById('scenarioTimer');
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (gameState.scenarioTimer <= 10) {
                    timerElement.classList.add('timer-critical');
                }
                
                if (gameState.scenarioTimer <= 0) {
                    clearInterval(gameState.scenarioInterval);
                    // Auto-select worst choice if time runs out
                    const worstChoice = scenarios[gameState.currentScenario].choices[scenarios[gameState.currentScenario].choices.length - 1];
                    selectChoice(worstChoice, document.querySelector('.choice-btn'));
                }
            }, 1000);
        }

        function startServiceTimer() {
            gameState.serviceInterval = setInterval(() => {
                gameState.serviceTimer--;
                
                document.getElementById('serviceTimer').textContent = `‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${gameState.serviceTimer} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
                
                if (gameState.serviceTimer <= 30) {
                    document.getElementById('serviceTimer').classList.add('timer-critical');
                }
                
                if (gameState.serviceTimer <= 0) {
                    clearInterval(gameState.serviceInterval);
                    proceedToResults();
                }
            }, 1000);
        }

        function showNotification(icon, title, message) {
            document.getElementById('notificationIcon').textContent = icon;
            document.getElementById('notificationTitle').textContent = title;
            document.getElementById('notificationMessage').textContent = message;
            
            const notification = document.getElementById('notification');
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function restartGame() {
            // Reset game state
            gameState = {
                currentPhase: 0,
                currentScenario: 0,
                flightTime: 0,
                scores: {
                    total: 100,
                    professionalism: 100,
                    safety: 100,
                    service: 100
                },
                selectedFood: null,
                selectedDrink: null,
                serviceTimer: 180,
                scenarioTimer: 300,
                serviceInterval: null,
                scenarioInterval: null,
                flightInterval: null,
                passengers: [],
                currentPassenger: null,
                completedScenarios: 0,
                totalScenarios: 5
            };
            
            // Clear intervals
            clearInterval(gameState.serviceInterval);
            clearInterval(gameState.scenarioInterval);
            clearInterval(gameState.flightInterval);
            
            // Reset UI
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('welcomeScreen').classList.remove('hidden');
            
            // Reset scores display
            updateScoreDisplay();
            updateProgress();
            
            showNotification('üîÑ', '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà', '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà');
        }

        function shareResults() {
            const totalScore = gameState.scores.total;
            const text = `üõ´ ‡∏ú‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏° Cabin Crew Reality Training ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ${totalScore}/100! 
            
‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û: ${gameState.scores.professionalism}/100
‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢: ${gameState.scores.safety}/100  
‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£: ${gameState.scores.service}/100

‡∏°‡∏≤‡∏•‡∏≠‡∏á‡∏ù‡∏∂‡∏Å‡∏≠‡∏ö‡∏£‡∏°‡∏Å‡∏±‡∏ô‡πÄ‡∏ñ‡∏≠‡∏∞! ‚úàÔ∏è`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Cabin Crew Reality Training Results',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('üìã', '‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß', '‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏Ñ‡∏•‡∏¥‡∏õ‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÅ‡∏•‡πâ‡∏ß');
                });
            }
        }

        // Initialize score display
        updateScoreDisplay();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'978ddd8fa6f97b50',t:'MTc1NjgyNTEwNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
