<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Mechatronics Adventure: ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Kanit', sans-serif;
        }
        
        .mission-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }
        
        .mission-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .mission-card:hover::before {
            left: 100%;
        }
        
        .mission-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
        }
        
        .assistant {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #ffd700;
            border-radius: 50%;
            animation: particle 2s linear infinite;
        }
        
        @keyframes particle {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        
        .success-animation {
            animation: successPulse 1s ease-in-out;
        }
        
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); background-color: rgba(34, 197, 94, 0.2); }
            100% { transform: scale(1); }
        }
        
        .hologram {
            background: linear-gradient(45deg, rgba(0,255,255,0.1), rgba(255,0,255,0.1));
            border: 2px solid rgba(0,255,255,0.3);
            box-shadow: 0 0 20px rgba(0,255,255,0.2);
        }
        
        .neon-text {
            text-shadow: 0 0 10px currentColor;
        }
        
        .draggable-enhanced {
            cursor: grab;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .draggable-enhanced:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
        
        .draggable-enhanced:active {
            cursor: grabbing;
            transform: scale(0.95);
        }
        
        .drop-zone-enhanced {
            border: 3px dashed #4a5568;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .drop-zone-enhanced.drag-over {
            border-color: #48bb78;
            background: radial-gradient(circle, rgba(72,187,120,0.1) 0%, transparent 70%);
            transform: scale(1.02);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 min-h-screen text-white overflow-x-hidden">
    <!-- Particle Background -->
    <div id="particles" class="fixed inset-0 pointer-events-none z-0"></div>

    <!-- Start Screen -->
    <div id="startScreen" class="container mx-auto px-4 py-8 relative z-10">
        <div class="text-center mb-12">
            <div class="text-8xl mb-6">üöÄ</div>
            <h1 class="text-6xl font-bold mb-4 neon-text bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent">
                MECHATRONICS ADVENTURE
            </h1>
            <p class="text-2xl mb-8 opacity-90">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</p>
            <div class="bg-gray-800 bg-opacity-50 rounded-2xl p-8 max-w-4xl mx-auto mb-8">
                <h2 class="text-3xl font-bold mb-6 text-yellow-400">üéØ ‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-left">
                    <div class="bg-blue-600 bg-opacity-30 rounded-lg p-4">
                        <h3 class="font-semibold mb-2">üéÆ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</h3>
                        <ul class="text-sm space-y-1 opacity-90">
                            <li>‚Ä¢ ‡∏ó‡∏≥‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à 5 ‡∏î‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö</li>
                            <li>‚Ä¢ ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</li>
                            <li>‚Ä¢ ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ</li>
                            <li>‚Ä¢ ‡∏î‡∏π‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏≤‡∏ü</li>
                        </ul>
                    </div>
                    <div class="bg-purple-600 bg-opacity-30 rounded-lg p-4">
                        <h3 class="font-semibold mb-2">üèÜ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢</h3>
                        <ul class="text-sm space-y-1 opacity-90">
                            <li>‚Ä¢ ‡∏Ñ‡πâ‡∏ô‡∏û‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏ô‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</li>
                            <li>‚Ä¢ ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡πÄ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</li>
                            <li>‚Ä¢ ‡∏™‡∏ô‡∏∏‡∏Å‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤</li>
                            <li>‚Ä¢ ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô</li>
                        </ul>
                    </div>
                </div>
            </div>
            <button onclick="startAdventure()" class="bg-gradient-to-r from-green-500 to-blue-600 hover:from-green-600 hover:to-blue-700 px-12 py-4 rounded-full text-2xl font-bold transform hover:scale-105 transition-all duration-300 shadow-2xl">
                üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢
            </button>
        </div>
    </div>

    <!-- Main Game Container -->
    <div id="gameContainer" class="hidden container mx-auto px-4 py-6 relative z-10">
        <!-- Header with Progress -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold mb-4 neon-text">üéÆ Mechatronics Adventure</h1>
            <div class="bg-gray-800 rounded-full h-6 mb-4 overflow-hidden">
                <div id="progressBar" class="bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 h-6 rounded-full transition-all duration-1000 relative" style="width: 0%">
                    <div class="absolute inset-0 bg-white bg-opacity-20 animate-pulse"></div>
                </div>
            </div>
            <div class="text-lg">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏µ‡πà <span id="currentMission">1</span> ‡∏à‡∏≤‡∏Å 5</div>
        </div>

        <!-- Mission Selection -->
        <div id="missionSelection" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <div class="mission-card rounded-2xl p-6 text-center cursor-pointer relative" onclick="startMission('factory')">
                <div class="text-6xl mb-4">üè≠</div>
                <h3 class="text-xl font-semibold mb-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h3>
                <p class="text-sm opacity-80 mb-4">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                <div class="bg-white bg-opacity-20 rounded-lg py-2">
                    <span class="text-sm">üîß ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏•‡πÑ‡∏Å + ‡∏£‡∏∞‡∏ö‡∏ö</span>
                </div>
                <div id="mission1Status" class="absolute top-2 right-2 text-2xl hidden">‚úÖ</div>
            </div>

            <div class="mission-card rounded-2xl p-6 text-center cursor-pointer relative" onclick="startMission('robot')">
                <div class="text-6xl mb-4">ü§ñ</div>
                <h3 class="text-xl font-semibold mb-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢</h3>
                <p class="text-sm opacity-80 mb-4">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÉ‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</p>
                <div class="bg-white bg-opacity-20 rounded-lg py-2">
                    <span class="text-sm">‚ö° ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ + ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</span>
                </div>
                <div id="mission2Status" class="absolute top-2 right-2 text-2xl hidden">‚úÖ</div>
            </div>

            <div class="mission-card rounded-2xl p-6 text-center cursor-pointer relative" onclick="startMission('space')">
                <div class="text-6xl mb-4">üõ∞Ô∏è</div>
                <h3 class="text-xl font-semibold mb-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏®</h3>
                <p class="text-sm opacity-80 mb-4">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</p>
                <div class="bg-white bg-opacity-20 rounded-lg py-2">
                    <span class="text-sm">üíª ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° + AI</span>
                </div>
                <div id="mission3Status" class="absolute top-2 right-2 text-2xl hidden">‚úÖ</div>
            </div>

            <div class="mission-card rounded-2xl p-6 text-center cursor-pointer relative" onclick="startMission('city')">
                <div class="text-6xl mb-4">üåÜ</div>
                <h3 class="text-xl font-semibold mb-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h3>
                <p class="text-sm opacity-80 mb-4">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏≤‡∏à‡∏£‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á</p>
                <div class="bg-white bg-opacity-20 rounded-lg py-2">
                    <span class="text-sm">üîç ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ + IoT</span>
                </div>
                <div id="mission4Status" class="absolute top-2 right-2 text-2xl hidden">‚úÖ</div>
            </div>

            <div class="mission-card rounded-2xl p-6 text-center cursor-pointer relative" onclick="startMission('future')">
                <div class="text-6xl mb-4">üåü</div>
                <h3 class="text-xl font-semibold mb-2">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Å‡∏≤‡∏•</h3>
                <p class="text-sm opacity-80 mb-4">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏´‡πà‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï</p>
                <div class="bg-white bg-opacity-20 rounded-lg py-2">
                    <span class="text-sm">üöÄ ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                </div>
                <div id="mission5Status" class="absolute top-2 right-2 text-2xl hidden">‚úÖ</div>
            </div>

            <div class="mission-card rounded-2xl p-6 text-center cursor-pointer bg-gradient-to-r from-yellow-500 to-orange-500" onclick="showResults()">
                <div class="text-6xl mb-4">üìä</div>
                <h3 class="text-xl font-semibold mb-2">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h3>
                <p class="text-sm opacity-80 mb-4">‡∏î‡∏π‡∏Å‡∏£‡∏≤‡∏ü‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ</p>
                <div class="bg-white bg-opacity-20 rounded-lg py-2">
                    <span class="text-sm">‚≠ê ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•</span>
                </div>
            </div>
        </div>

        <!-- Mission Area -->
        <div id="missionArea" class="hidden">
            <!-- Factory Mission -->
            <div id="factoryMission" class="hidden bg-gray-800 bg-opacity-50 rounded-2xl p-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold">üè≠ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h2>
                    <div class="assistant text-4xl">ü§ñ</div>
                </div>
                
                <div class="bg-blue-900 bg-opacity-50 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-blue-300 mb-2">üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</h3>
                    <p class="text-blue-200">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏™‡∏µ ‡πÅ‡∏•‡∏∞‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏î‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üîß ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="draggable-enhanced bg-gradient-to-r from-blue-600 to-blue-700 p-4 rounded-lg text-center" draggable="true" data-component="conveyor">
                                <div class="text-3xl mb-2">üîÑ</div>
                                <div class="text-sm">‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô</div>
                            </div>
                            <div class="draggable-enhanced bg-gradient-to-r from-green-600 to-green-700 p-4 rounded-lg text-center" draggable="true" data-component="camera">
                                <div class="text-3xl mb-2">üì∑</div>
                                <div class="text-sm">‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</div>
                            </div>
                            <div class="draggable-enhanced bg-gradient-to-r from-purple-600 to-purple-700 p-4 rounded-lg text-center" draggable="true" data-component="sorter">
                                <div class="text-3xl mb-2">üîÄ</div>
                                <div class="text-sm">‡∏ï‡∏±‡∏ß‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å</div>
                            </div>
                            <div class="draggable-enhanced bg-gradient-to-r from-red-600 to-red-700 p-4 rounded-lg text-center" draggable="true" data-component="counter">
                                <div class="text-3xl mb-2">üî¢</div>
                                <div class="text-sm">‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üè≠ ‡∏™‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï</h3>
                        <div class="bg-gray-700 rounded-lg p-4 min-h-80">
                            <div class="grid grid-cols-2 gap-4 h-full">
                                <div class="drop-zone-enhanced rounded-lg p-4 text-center flex flex-col justify-center" data-position="input">
                                    <div class="text-gray-400">üì• ‡∏à‡∏∏‡∏î‡∏õ‡πâ‡∏≠‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</div>
                                </div>
                                <div class="drop-zone-enhanced rounded-lg p-4 text-center flex flex-col justify-center" data-position="detection">
                                    <div class="text-gray-400">üëÅÔ∏è ‡∏à‡∏∏‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö</div>
                                </div>
                                <div class="drop-zone-enhanced rounded-lg p-4 text-center flex flex-col justify-center" data-position="sorting">
                                    <div class="text-gray-400">üîÄ ‡∏à‡∏∏‡∏î‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å</div>
                                </div>
                                <div class="drop-zone-enhanced rounded-lg p-4 text-center flex flex-col justify-center" data-position="counting">
                                    <div class="text-gray-400">üìä ‡∏à‡∏∏‡∏î‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="factoryResult" class="mt-6 text-center hidden">
                    <div class="text-6xl mb-4">üéâ</div>
                    <div class="text-2xl font-bold text-green-400 mb-4">‡∏™‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ú‡∏•‡∏¥‡∏ï‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß!</div>
                    <div class="bg-green-900 bg-opacity-50 rounded-lg p-4 mb-4">
                        <div class="text-lg">‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå: üî¥ 25 ‡∏ä‡∏¥‡πâ‡∏ô | üîµ 30 ‡∏ä‡∏¥‡πâ‡∏ô | üü° 20 ‡∏ä‡∏¥‡πâ‡∏ô</div>
                    </div>
                </div>

                <div class="flex justify-between mt-8">
                    <button id="factoryHintBtn" onclick="getHint('factory')" class="bg-yellow-600 hover:bg-yellow-700 px-6 py-2 rounded-lg">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (2/2)</button>
                    <button onclick="backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
                </div>
            </div>

            <!-- Robot Mission -->
            <div id="robotMission" class="hidden bg-gray-800 bg-opacity-50 rounded-2xl p-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold">ü§ñ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢</h2>
                    <div class="assistant text-4xl">üöÅ</div>
                </div>
                
                <div class="bg-red-900 bg-opacity-50 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-red-300 mb-2">üö® ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</h3>
                    <p class="text-red-200">‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏¥‡∏á‡πÑ‡∏´‡∏°‡πâ! ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏†‡∏±‡∏¢</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üéÆ ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</h3>
                        <div class="bg-gray-700 rounded-lg p-4 mb-4">
                            <div class="text-center mb-4">
                                <div class="text-6xl mb-2">ü§ñ</div>
                                <div class="text-sm">‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢</div>
                            </div>
                            <div class="grid grid-cols-3 gap-2">
                                <button onclick="moveRobot('up')" class="bg-blue-600 hover:bg-blue-700 p-3 rounded">‚¨ÜÔ∏è</button>
                                <div></div>
                                <button onclick="activateRescue()" class="bg-red-600 hover:bg-red-700 p-3 rounded text-xs">üö® ‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢</button>
                                <button onclick="moveRobot('left')" class="bg-blue-600 hover:bg-blue-700 p-3 rounded">‚¨ÖÔ∏è</button>
                                <button onclick="moveRobot('down')" class="bg-blue-600 hover:bg-blue-700 p-3 rounded">‚¨áÔ∏è</button>
                                <button onclick="moveRobot('right')" class="bg-blue-600 hover:bg-blue-700 p-3 rounded">‚û°Ô∏è</button>
                            </div>
                        </div>
                        <div class="bg-gray-700 rounded-lg p-4">
                            <h4 class="font-semibold mb-2">üìä ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</h4>
                            <div class="space-y-2 text-sm">
                                <div>üîã ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà: <span id="battery">100%</span></div>
                                <div>üå°Ô∏è ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥: <span id="temperature">25¬∞C</span></div>
                                <div>üë• ‡∏ú‡∏π‡πâ‡∏£‡∏≠‡∏î‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï: <span id="survivors">0/3</span></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üè¢ ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</h3>
                        <div id="buildingMap" class="bg-gray-700 rounded-lg p-4 grid grid-cols-5 gap-1 min-h-80">
                            <!-- Building map will be generated by JavaScript -->
                        </div>
                    </div>
                </div>

                <div id="robotResult" class="mt-6 text-center hidden"></div>

                <div class="flex justify-between mt-8">
                    <button id="robotHintBtn" onclick="getHint('robot')" class="bg-yellow-600 hover:bg-yellow-700 px-6 py-2 rounded-lg">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (2/2)</button>
                    <button onclick="backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
                </div>
            </div>

            <!-- Space Mission -->
            <div id="spaceMission" class="hidden bg-gray-800 bg-opacity-50 rounded-2xl p-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold">üõ∞Ô∏è ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏®</h2>
                    <div class="assistant text-4xl">üë®‚ÄçüöÄ</div>
                </div>
                
                <div class="bg-purple-900 bg-opacity-50 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-purple-300 mb-2">üåå ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</h3>
                    <p class="text-purple-200">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° AI ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ö‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏®‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üíª ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</h3>
                        <div class="bg-gray-900 rounded-lg p-4 font-mono text-sm">
                            <div class="text-green-400 mb-2">// ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏®</div>
                            <div class="mb-4">
                                <select id="oxygenCondition" class="bg-gray-700 text-white p-2 rounded w-full mb-2">
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç O2</option>
                                    <option value="low">IF O2 < 18%</option>
                                    <option value="normal">IF O2 >= 18%</option>
                                    <option value="high">IF O2 > 25%</option>
                                </select>
                                <select id="oxygenAction" class="bg-gray-700 text-white p-2 rounded w-full">
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</option>
                                    <option value="increase">‡πÄ‡∏û‡∏¥‡πà‡∏° O2</option>
                                    <option value="decrease">‡∏•‡∏î O2</option>
                                    <option value="maintain">‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <select id="tempCondition" class="bg-gray-700 text-white p-2 rounded w-full mb-2">
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</option>
                                    <option value="cold">IF Temp < 20¬∞C</option>
                                    <option value="normal">IF 20¬∞C <= Temp <= 25¬∞C</option>
                                    <option value="hot">IF Temp > 25¬∞C</option>
                                </select>
                                <select id="tempAction" class="bg-gray-700 text-white p-2 rounded w-full">
                                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</option>
                                    <option value="heat">‡πÄ‡∏õ‡∏¥‡∏î‡∏Æ‡∏µ‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                                    <option value="cool">‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏£‡πå</option>
                                    <option value="maintain">‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</option>
                                </select>
                            </div>
                            <button onclick="runSpaceProgram()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded w-full">‚ñ∂Ô∏è ‡∏£‡∏±‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</button>
                        </div>
                    </div>
                    
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üõ∞Ô∏è ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏®</h3>
                        <div class="bg-gray-700 rounded-lg p-4">
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div class="bg-blue-900 rounded p-3 text-center">
                                    <div class="text-2xl mb-1">üí®</div>
                                    <div class="text-sm">‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô</div>
                                    <div id="oxygenLevel" class="text-lg font-bold">20%</div>
                                </div>
                                <div class="bg-red-900 rounded p-3 text-center">
                                    <div class="text-2xl mb-1">üå°Ô∏è</div>
                                    <div class="text-sm">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</div>
                                    <div id="temperatureLevel" class="text-lg font-bold">22¬∞C</div>
                                </div>
                            </div>
                            <div class="bg-gray-600 rounded-lg p-4">
                                <h4 class="font-semibold mb-2">üë®‚ÄçüöÄ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏π‡∏Å‡πÄ‡∏£‡∏∑‡∏≠</h4>
                                <div id="crewStatus" class="text-sm">
                                    <div>üòä ‡∏•‡∏π‡∏Å‡πÄ‡∏£‡∏∑‡∏≠ 1: ‡∏õ‡∏Å‡∏ï‡∏¥</div>
                                    <div>üòä ‡∏•‡∏π‡∏Å‡πÄ‡∏£‡∏∑‡∏≠ 2: ‡∏õ‡∏Å‡∏ï‡∏¥</div>
                                    <div>üòä ‡∏•‡∏π‡∏Å‡πÄ‡∏£‡∏∑‡∏≠ 3: ‡∏õ‡∏Å‡∏ï‡∏¥</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="spaceResult" class="mt-6 text-center hidden"></div>

                <div class="flex justify-between mt-8">
                    <button id="spaceHintBtn" onclick="getHint('space')" class="bg-yellow-600 hover:bg-yellow-700 px-6 py-2 rounded-lg">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (2/2)</button>
                    <button onclick="backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
                </div>
            </div>

            <!-- City Mission -->
            <div id="cityMission" class="hidden bg-gray-800 bg-opacity-50 rounded-2xl p-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold">üåÜ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h2>
                    <div class="assistant text-4xl">üö¶</div>
                </div>
                
                <div class="bg-orange-900 bg-opacity-50 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-orange-300 mb-2">‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h3>
                    <p class="text-orange-200">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏≤‡∏à‡∏£‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á! ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏à‡∏£‡∏≤‡∏à‡∏£‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üîç ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏õ‡∏±‡∏ç‡∏´‡∏≤</h3>
                        <div class="space-y-4">
                            <div class="bg-red-900 bg-opacity-50 rounded-lg p-4">
                                <h4 class="font-semibold text-red-300 mb-2">üö® ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö</h4>
                                <ul class="text-sm text-red-200 space-y-1">
                                    <li>‚Ä¢ ‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£‡∏Å‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</li>
                                    <li>‚Ä¢ ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏£‡∏ñ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</li>
                                    <li>‚Ä¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢</li>
                                    <li>‚Ä¢ ‡∏£‡∏ñ‡∏ï‡∏¥‡∏î‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô</li>
                                </ul>
                            </div>
                            <div class="bg-gray-700 rounded-lg p-4">
                                <h4 class="font-semibold mb-3">üõ†Ô∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</h4>
                                <div class="space-y-2">
                                    <button onclick="selectSolution('sensor')" class="w-full text-left bg-blue-600 hover:bg-blue-700 p-3 rounded">
                                        üîß ‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö
                                    </button>
                                    <button onclick="selectSolution('network')" class="w-full text-left bg-green-600 hover:bg-green-700 p-3 rounded">
                                        üì° ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢
                                    </button>
                                    <button onclick="selectSolution('traffic')" class="w-full text-left bg-purple-600 hover:bg-purple-700 p-3 rounded">
                                        üö¶ ‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£
                                    </button>
                                    <button onclick="selectSolution('manual')" class="w-full text-left bg-yellow-600 hover:bg-yellow-700 p-3 rounded">
                                        üëÆ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ô
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏£‡∏≤‡∏à‡∏£</h3>
                        <div class="bg-gray-700 rounded-lg p-4">
                            <div id="trafficMap" class="grid grid-cols-3 gap-2 mb-4">
                                <div class="bg-gray-600 p-2 rounded text-center">üè¢</div>
                                <div class="bg-yellow-600 p-2 rounded text-center" id="light1">üö¶</div>
                                <div class="bg-gray-600 p-2 rounded text-center">üè¢</div>
                                <div class="bg-yellow-600 p-2 rounded text-center" id="light2">üö¶</div>
                                <div class="bg-red-600 p-2 rounded text-center">üöóüöóüöó</div>
                                <div class="bg-yellow-600 p-2 rounded text-center" id="light3">üö¶</div>
                                <div class="bg-gray-600 p-2 rounded text-center">üè¢</div>
                                <div class="bg-yellow-600 p-2 rounded text-center" id="light4">üö¶</div>
                                <div class="bg-gray-600 p-2 rounded text-center">üè¢</div>
                            </div>
                            <div class="text-sm">
                                <div class="mb-2">üî¥ ‡πÅ‡∏î‡∏á: ‡∏£‡∏ñ‡∏ï‡∏¥‡∏î | üü° ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á: ‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£</div>
                                <div>üìä ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô: <span id="trafficDensity">85%</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="cityResult" class="mt-6 text-center hidden"></div>

                <div class="flex justify-between mt-8">
                    <button id="cityHintBtn" onclick="getHint('city')" class="bg-yellow-600 hover:bg-yellow-700 px-6 py-2 rounded-lg">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (2/2)</button>
                    <button onclick="backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
                </div>
            </div>

            <!-- Future Mission -->
            <div id="futureMission" class="hidden bg-gray-800 bg-opacity-50 rounded-2xl p-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-3xl font-bold">üåü ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Å‡∏≤‡∏•</h2>
                    <div class="assistant text-4xl">üîÆ</div>
                </div>
                
                <div class="bg-indigo-900 bg-opacity-50 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-indigo-300 mb-2">üöÄ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢</h3>
                    <p class="text-indigo-200">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏´‡πà‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï ‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üéØ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ</h3>
                        <div class="space-y-4">
                            <button onclick="selectProject('medical')" class="w-full text-left bg-gradient-to-r from-green-600 to-blue-600 p-4 rounded-lg">
                                <div class="font-semibold">üè• ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏û‡∏ó‡∏¢‡πå</div>
                                <div class="text-sm opacity-80">‡∏ú‡πà‡∏≤‡∏ï‡∏±‡∏î‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á</div>
                            </button>
                            <button onclick="selectProject('environment')" class="w-full text-left bg-gradient-to-r from-green-600 to-teal-600 p-4 rounded-lg">
                                <div class="font-semibold">üå± ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</div>
                                <div class="text-sm opacity-80">‡∏õ‡∏•‡∏π‡∏Å‡∏û‡∏∑‡∏ä‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏ô‡πâ‡∏≥</div>
                            </button>
                            <button onclick="selectProject('exploration')" class="w-full text-left bg-gradient-to-r from-purple-600 to-pink-600 p-4 rounded-lg">
                                <div class="font-semibold">üöÄ ‡∏¢‡∏≤‡∏ô‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</div>
                                <div class="text-sm opacity-80">‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
                            </button>
                        </div>
                    </div>
                    
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üõ†Ô∏è ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö</h3>
                        <div id="designArea" class="bg-gray-700 rounded-lg p-4 min-h-64">
                            <div class="text-center text-gray-400 mt-20">
                                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö
                            </div>
                        </div>
                    </div>
                </div>

                <div id="futureResult" class="mt-6 text-center hidden"></div>

                <div class="flex justify-between mt-8">
                    <button id="futureHintBtn" onclick="getHint('future')" class="bg-yellow-600 hover:bg-yellow-700 px-6 py-2 rounded-lg">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (2/2)</button>
                    <button onclick="backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg">üîô ‡∏Å‡∏•‡∏±‡∏ö</button>
                </div>
            </div>
        </div>

        <!-- Results Area -->
        <div id="resultsArea" class="hidden">
            <div class="bg-gray-800 bg-opacity-50 rounded-2xl p-8">
                <h2 class="text-3xl font-bold mb-8 text-center neon-text">üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üìà ‡∏Å‡∏£‡∏≤‡∏ü‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ</h3>
                        <canvas id="skillChart" width="400" height="300"></canvas>
                    </div>
                    
                    <div class="hologram rounded-lg p-6">
                        <h3 class="text-xl font-semibold mb-4">üéØ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏•</h3>
                        <div id="analysisResult" class="space-y-4">
                            <!-- Analysis will be populated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <div id="recommendation" class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-center">
                    <h3 class="text-2xl font-bold mb-4">üåü ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h3>
                    <div id="recommendationText" class="text-lg mb-6"></div>
                    <div id="careerPath" class="bg-white bg-opacity-20 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">üöÄ ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h4>
                        <div id="careerSuggestions"></div>
                    </div>
                </div>
                
                <div class="text-center mt-8">
                    <button onclick="resetAdventure()" class="bg-blue-600 hover:bg-blue-700 px-8 py-3 rounded-lg mr-4 text-lg">üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
                    <button onclick="backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-8 py-3 rounded-lg text-lg">üîô ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let gameState = {
            currentMission: 1,
            completedMissions: new Set(),
            scores: {
                mechanical: 0,
                electrical: 0,
                programming: 0,
                integration: 0,
                problemSolving: 0
            },
            missionResults: {},
            hintsUsed: {
                factory: 0,
                robot: 0,
                space: 0,
                city: 0,
                future: 0
            }
        };

        // Mission-specific hints
        const missionHints = {
            factory: [
                "üîß ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô (üîÑ) ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏õ‡πâ‡∏≠‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö",
                "üîß ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö (üì∑) ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πÅ‡∏Å‡∏ô‡∏™‡∏µ‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å (üîÄ) ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏ô‡∏±‡∏ö (üî¢) ‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö"
            ],
            robot: [
                "ü§ñ ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏π‡∏Å‡∏®‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏†‡∏±‡∏¢ (üë§) ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° '‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢' ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô",
                "ü§ñ ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 2: ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ä‡πà‡∏≠‡∏á‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ (üî•) ‡∏™‡∏µ‡∏™‡πâ‡∏° ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏´‡∏°‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà ‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏†‡∏±‡∏¢‡∏ó‡∏±‡πâ‡∏á 3 ‡∏Ñ‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö"
            ],
            space: [
                "üõ∞Ô∏è ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç 'IF O2 < 18%' ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô '‡πÄ‡∏û‡∏¥‡πà‡∏° O2' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡πâ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢",
                "üõ∞Ô∏è ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 2: ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏¢‡πá‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (< 20¬∞C) ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡∏Æ‡∏µ‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏ñ‡πâ‡∏≤‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (> 25¬∞C) ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏£‡πå ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°"
            ],
            city: [
                "üåÜ ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 1: ‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÉ‡∏´‡πâ‡∏î‡∏µ - ‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£‡∏Å‡∏∞‡∏û‡∏£‡∏¥‡∏ö‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÅ‡∏ï‡πà‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£",
                "üåÜ ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å '‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢' ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°"
            ],
            future: [
                "üåü ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ô‡πÉ‡∏à ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏ß‡πà‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£ ‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÅ‡∏Ç‡∏ô‡∏Å‡∏• + AI + ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå",
                "üåü ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏µ‡πà 2: ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£ - ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏î‡∏¥‡∏ô, ‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏î‡∏ô‡πâ‡∏≥, ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ ‡πÅ‡∏•‡∏∞‡πÅ‡∏≠‡∏õ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô"
            ]
        };

        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 2 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        function startAdventure() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameContainer').classList.remove('hidden');
            createParticles();
        }

        function startMission(missionType) {
            document.getElementById('missionSelection').classList.add('hidden');
            document.getElementById('missionArea').classList.remove('hidden');
            
            // Hide all missions
            document.querySelectorAll('#missionArea > div').forEach(div => div.classList.add('hidden'));
            
            // Show selected mission
            document.getElementById(missionType + 'Mission').classList.remove('hidden');
            
            // Initialize mission-specific functionality
            if (missionType === 'factory') {
                initFactoryMission();
            } else if (missionType === 'robot') {
                initRobotMission();
            }
        }

        function initFactoryMission() {
            const draggables = document.querySelectorAll('.draggable-enhanced');
            const dropZones = document.querySelectorAll('.drop-zone-enhanced');
            
            draggables.forEach(draggable => {
                draggable.addEventListener('dragstart', handleDragStart);
            });
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleFactoryDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.dataset.component);
        }

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.target.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function handleFactoryDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');
            
            const component = e.dataTransfer.getData('text/plain');
            const position = e.target.dataset.position;
            
            const correctPlacements = {
                input: 'conveyor',
                detection: 'camera',
                sorting: 'sorter',
                counting: 'counter'
            };
            
            if (correctPlacements[position] === component) {
                const icons = {
                    conveyor: 'üîÑ',
                    camera: 'üì∑',
                    sorter: 'üîÄ',
                    counter: 'üî¢'
                };
                
                e.target.innerHTML = `<div class="text-3xl">${icons[component]}</div>`;
                e.target.classList.add('success-animation');
                
                setTimeout(() => e.target.classList.remove('success-animation'), 1000);
                
                // Check if factory is complete
                checkFactoryCompletion();
            }
        }

        function checkFactoryCompletion() {
            const dropZones = document.querySelectorAll('.drop-zone-enhanced');
            const completed = Array.from(dropZones).every(zone => 
                zone.innerHTML.includes('text-3xl')
            );
            
            if (completed) {
                setTimeout(() => {
                    document.getElementById('factoryResult').classList.remove('hidden');
                    gameState.scores.mechanical += 30;
                    gameState.scores.integration += 20;
                    gameState.completedMissions.add('factory');
                    document.getElementById('mission1Status').classList.remove('hidden');
                    updateProgress();
                    showMissionComplete('factory');
                }, 1000);
            }
        }

        function initRobotMission() {
            const map = document.getElementById('buildingMap');
            map.innerHTML = '';
            
            // Create 5x5 building map
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement('div');
                cell.className = 'bg-gray-600 p-2 rounded text-center text-xs';
                
                if (i === 0) {
                    cell.innerHTML = 'ü§ñ';
                    cell.id = 'robotPosition';
                    cell.className += ' bg-blue-600';
                } else if ([6, 12, 18].includes(i)) {
                    cell.innerHTML = 'üë§';
                    cell.className += ' bg-red-600';
                } else if ([4, 9, 14, 19, 24].includes(i)) {
                    cell.innerHTML = 'üî•';
                    cell.className += ' bg-orange-600';
                } else {
                    cell.innerHTML = '‚¨ú';
                }
                
                map.appendChild(cell);
            }
            
            gameState.robotPosition = 0;
            gameState.rescuedCount = 0;
        }

        function moveRobot(direction) {
            const currentPos = gameState.robotPosition;
            let newPos = currentPos;
            
            switch (direction) {
                case 'up': newPos = currentPos - 5; break;
                case 'down': newPos = currentPos + 5; break;
                case 'left': newPos = currentPos - 1; break;
                case 'right': newPos = currentPos + 1; break;
            }
            
            if (newPos >= 0 && newPos < 25) {
                // Update robot position
                document.getElementById('buildingMap').children[currentPos].innerHTML = '‚¨ú';
                document.getElementById('buildingMap').children[currentPos].className = 'bg-gray-600 p-2 rounded text-center text-xs';
                
                document.getElementById('buildingMap').children[newPos].innerHTML = 'ü§ñ';
                document.getElementById('buildingMap').children[newPos].className = 'bg-blue-600 p-2 rounded text-center text-xs';
                
                gameState.robotPosition = newPos;
                
                // Update battery
                const battery = parseInt(document.getElementById('battery').textContent);
                document.getElementById('battery').textContent = Math.max(0, battery - 2) + '%';
            }
        }

        function activateRescue() {
            const pos = gameState.robotPosition;
            const cell = document.getElementById('buildingMap').children[pos];
            
            if ([6, 12, 18].includes(pos) && cell.innerHTML === 'ü§ñ') {
                gameState.rescuedCount++;
                document.getElementById('survivors').textContent = `${gameState.rescuedCount}/3`;
                
                if (gameState.rescuedCount === 3) {
                    setTimeout(() => {
                        document.getElementById('robotResult').innerHTML = `
                            <div class="text-6xl mb-4">üéâ</div>
                            <div class="text-2xl font-bold text-green-400">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡∏π‡πâ‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô</div>
                        `;
                        document.getElementById('robotResult').classList.remove('hidden');
                        gameState.scores.electrical += 25;
                        gameState.scores.problemSolving += 25;
                        gameState.completedMissions.add('robot');
                        document.getElementById('mission2Status').classList.remove('hidden');
                        updateProgress();
                        showMissionComplete('robot');
                    }, 500);
                }
            }
        }

        function runSpaceProgram() {
            const oxygenCondition = document.getElementById('oxygenCondition').value;
            const oxygenAction = document.getElementById('oxygenAction').value;
            const tempCondition = document.getElementById('tempCondition').value;
            const tempAction = document.getElementById('tempAction').value;
            
            let score = 0;
            let feedback = [];
            
            // Check oxygen logic
            if (oxygenCondition === 'low' && oxygenAction === 'increase') {
                score += 25;
                feedback.push('‚úÖ ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
            } else {
                feedback.push('‚ùå ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏≠‡∏≠‡∏Å‡∏ã‡∏¥‡πÄ‡∏à‡∏ô‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°');
            }
            
            // Check temperature logic
            if ((tempCondition === 'cold' && tempAction === 'heat') || 
                (tempCondition === 'hot' && tempAction === 'cool')) {
                score += 25;
                feedback.push('‚úÖ ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
            } else {
                feedback.push('‚ùå ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°');
            }
            
            if (score === 50) {
                document.getElementById('spaceResult').innerHTML = `
                    <div class="text-6xl mb-4">üåü</div>
                    <div class="text-2xl font-bold text-green-400 mb-4">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå!</div>
                    <div class="bg-green-900 bg-opacity-50 rounded-lg p-4">
                        ${feedback.join('<br>')}
                    </div>
                `;
                gameState.scores.programming += 30;
                gameState.scores.integration += 20;
                gameState.completedMissions.add('space');
                document.getElementById('mission3Status').classList.remove('hidden');
                updateProgress();
                showMissionComplete('space');
            } else {
                document.getElementById('spaceResult').innerHTML = `
                    <div class="text-4xl mb-4">‚ö†Ô∏è</div>
                    <div class="text-xl text-yellow-400 mb-4">‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</div>
                    <div class="bg-yellow-900 bg-opacity-50 rounded-lg p-4">
                        ${feedback.join('<br>')}
                    </div>
                `;
            }
            
            document.getElementById('spaceResult').classList.remove('hidden');
        }

        function selectSolution(solution) {
            let result = '';
            let success = false;
            
            switch (solution) {
                case 'sensor':
                    result = '‚ö†Ô∏è ‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏´‡∏•‡∏±‡∏Å';
                    break;
                case 'network':
                    result = '‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡∏Ç‡∏±‡∏î‡∏Ç‡πâ‡∏≠‡∏á';
                    success = true;
                    break;
                case 'traffic':
                    result = '‚ö†Ô∏è ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÑ‡∏ü‡∏à‡∏£‡∏≤‡∏à‡∏£‡∏õ‡∏Å‡∏ï‡∏¥ ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì';
                    break;
                case 'manual':
                    result = '‚ùå ‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏ô‡πÄ‡∏´‡∏ï‡∏∏ ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏ß‡∏¥‡∏ò‡∏µ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß';
                    break;
            }
            
            document.getElementById('cityResult').innerHTML = `
                <div class="text-4xl mb-4">${success ? 'üéâ' : '‚ö†Ô∏è'}</div>
                <div class="text-xl ${success ? 'text-green-400' : 'text-yellow-400'} mb-4">${result}</div>
            `;
            document.getElementById('cityResult').classList.remove('hidden');
            
            if (success) {
                gameState.scores.problemSolving += 30;
                gameState.scores.integration += 20;
                gameState.completedMissions.add('city');
                document.getElementById('mission4Status').classList.remove('hidden');
                updateProgress();
                showMissionComplete('city');
            }
        }

        function selectProject(project) {
            const designArea = document.getElementById('designArea');
            let content = '';
            
            switch (project) {
                case 'medical':
                    content = `
                        <div class="text-center">
                            <div class="text-4xl mb-4">üè•</div>
                            <h4 class="font-semibold mb-4">‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÅ‡∏û‡∏ó‡∏¢‡πå</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-blue-600 p-3 rounded">
                                    <div class="text-2xl mb-1">ü¶æ</div>
                                    <div class="text-sm">‡πÅ‡∏Ç‡∏ô‡∏Å‡∏•‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</div>
                                </div>
                                <div class="bg-green-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üëÅÔ∏è</div>
                                    <div class="text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô AI</div>
                                </div>
                                <div class="bg-purple-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üß†</div>
                                    <div class="text-sm">AI ‡∏ß‡∏¥‡∏ô‡∏¥‡∏à‡∏â‡∏±‡∏¢</div>
                                </div>
                                <div class="bg-red-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üìä</div>
                                    <div class="text-sm">‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï</div>
                                </div>
                            </div>
                            <button onclick="completeFutureMission('medical')" class="mt-4 bg-green-600 hover:bg-green-700 px-4 py-2 rounded">
                                ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö
                            </button>
                        </div>
                    `;
                    break;
                case 'environment':
                    content = `
                        <div class="text-center">
                            <div class="text-4xl mb-4">üå±</div>
                            <h4 class="font-semibold mb-4">‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-green-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üíß</div>
                                    <div class="text-sm">‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
                                </div>
                                <div class="bg-blue-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üå°Ô∏è</div>
                                    <div class="text-sm">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥</div>
                                </div>
                                <div class="bg-yellow-600 p-3 rounded">
                                    <div class="text-2xl mb-1">‚òÄÔ∏è</div>
                                    <div class="text-sm">‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î</div>
                                </div>
                                <div class="bg-purple-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üì±</div>
                                    <div class="text-sm">‡πÅ‡∏≠‡∏õ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</div>
                                </div>
                            </div>
                            <button onclick="completeFutureMission('environment')" class="mt-4 bg-green-600 hover:bg-green-700 px-4 py-2 rounded">
                                ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö
                            </button>
                        </div>
                    `;
                    break;
                case 'exploration':
                    content = `
                        <div class="text-center">
                            <div class="text-4xl mb-4">üöÄ</div>
                            <h4 class="font-semibold mb-4">‡∏¢‡∏≤‡∏ô‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏î‡∏≤‡∏ß‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h4>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="bg-red-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üîã</div>
                                    <div class="text-sm">‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏™‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå</div>
                                </div>
                                <div class="bg-blue-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üì°</div>
                                    <div class="text-sm">‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏¢‡∏∞‡πÑ‡∏Å‡∏•</div>
                                </div>
                                <div class="bg-green-600 p-3 rounded">
                                    <div class="text-2xl mb-1">üî¨</div>
                                    <div class="text-sm">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</div>
                                </div>
                                <div class="bg-purple-600 p-3 rounded">
                                    <div class="text-2xl mb-1">ü§ñ</div>
                                    <div class="text-sm">AI ‡∏ô‡∏≥‡∏ó‡∏≤‡∏á</div>
                                </div>
                            </div>
                            <button onclick="completeFutureMission('exploration')" class="mt-4 bg-green-600 hover:bg-green-700 px-4 py-2 rounded">
                                ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö
                            </button>
                        </div>
                    `;
                    break;
            }
            
            designArea.innerHTML = content;
        }

        function completeFutureMission(project) {
            document.getElementById('futureResult').innerHTML = `
                <div class="text-6xl mb-4">üåü</div>
                <div class="text-2xl font-bold text-green-400 mb-4">‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</div>
                <div class="bg-green-900 bg-opacity-50 rounded-lg p-4">
                    <div class="text-lg">‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏´‡πà‡∏á‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°!</div>
                </div>
            `;
            document.getElementById('futureResult').classList.remove('hidden');
            
            gameState.scores.mechanical += 20;
            gameState.scores.electrical += 20;
            gameState.scores.programming += 20;
            gameState.scores.integration += 30;
            gameState.scores.problemSolving += 20;
            gameState.completedMissions.add('future');
            document.getElementById('mission5Status').classList.remove('hidden');
            updateProgress();
            showMissionComplete('future');
        }

        function getHint(missionType) {
            // Check if hints are available
            if (gameState.hintsUsed[missionType] >= 2) {
                alert('‚ùå ‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏Ñ‡∏£‡∏ö 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ô‡∏µ‡πâ');
                return;
            }
            
            // Get the appropriate hint
            const hintIndex = gameState.hintsUsed[missionType];
            const hint = missionHints[missionType][hintIndex];
            
            // Show hint in a modal
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gray-800 rounded-2xl p-8 text-center max-w-lg mx-4">
                    <div class="text-4xl mb-4">üí°</div>
                    <h3 class="text-xl font-bold mb-4">‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</h3>
                    <p class="text-lg mb-6 text-left">${hint}</p>
                    <button onclick="this.parentElement.parentElement.remove()" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg">
                        ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Update hint count
            gameState.hintsUsed[missionType]++;
            
            // Update button text
            const remainingHints = 2 - gameState.hintsUsed[missionType];
            const button = document.getElementById(missionType + 'HintBtn');
            if (remainingHints > 0) {
                button.textContent = `üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (${remainingHints}/2)`;
            } else {
                button.textContent = 'üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß';
                button.disabled = true;
                button.className = 'bg-gray-500 px-6 py-2 rounded-lg cursor-not-allowed';
            }
        }

        function showMissionComplete(missionType) {
            setTimeout(() => {
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
                modal.innerHTML = `
                    <div class="bg-gray-800 rounded-2xl p-8 text-center max-w-md mx-4">
                        <div class="text-6xl mb-4">üéâ</div>
                        <h3 class="text-2xl font-bold mb-4">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h3>
                        <p class="mb-6">‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à ${getMissionName(missionType)} ‡πÅ‡∏•‡πâ‡∏ß</p>
                        <div class="flex gap-4 justify-center">
                            <button onclick="this.parentElement.parentElement.parentElement.remove(); nextMission()" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg">
                                ‚û°Ô∏è ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ï‡πà‡∏≠‡πÑ‡∏õ
                            </button>
                            <button onclick="this.parentElement.parentElement.parentElement.remove(); backToMissions()" class="bg-gray-600 hover:bg-gray-700 px-6 py-2 rounded-lg">
                                üìã ‡∏î‡∏π‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                            </button>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            }, 2000);
        }

        function getMissionName(missionType) {
            const names = {
                factory: '‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞',
                robot: '‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡∏Å‡∏π‡πâ‡∏†‡∏±‡∏¢',
                space: '‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏≠‡∏ß‡∏Å‡∏≤‡∏®',
                city: '‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞',
                future: '‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Å‡∏≤‡∏•'
            };
            return names[missionType];
        }

        function nextMission() {
            gameState.currentMission++;
            updateProgress();
            backToMissions();
        }

        function updateProgress() {
            const progress = (gameState.completedMissions.size / 5) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('currentMission').textContent = Math.min(gameState.currentMission, 5);
        }

        function backToMissions() {
            document.getElementById('missionArea').classList.add('hidden');
            document.getElementById('resultsArea').classList.add('hidden');
            document.getElementById('missionSelection').classList.remove('hidden');
        }

        function showResults() {
            document.getElementById('missionSelection').classList.add('hidden');
            document.getElementById('resultsArea').classList.remove('hidden');
            
            // Create skill chart
            createSkillChart();
            
            // Generate analysis
            generateAnalysis();
        }

        function createSkillChart() {
            const ctx = document.getElementById('skillChart').getContext('2d');
            
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['‡∏Å‡∏•‡πÑ‡∏Å', '‡πÑ‡∏ü‡∏ü‡πâ‡∏≤', '‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°', '‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤', '‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£'],
                    datasets: [{
                        label: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ',
                        data: [
                            Math.min(gameState.scores.mechanical, 100),
                            Math.min(gameState.scores.electrical, 100),
                            Math.min(gameState.scores.programming, 100),
                            Math.min(gameState.scores.problemSolving, 100),
                            Math.min(gameState.scores.integration, 100)
                        ],
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(54, 162, 235, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(54, 162, 235, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.3)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.3)'
                            },
                            pointLabels: {
                                color: 'white',
                                font: {
                                    size: 14
                                }
                            },
                            ticks: {
                                color: 'white',
                                backdropColor: 'transparent'
                            },
                            min: 0,
                            max: 100
                        }
                    }
                }
            });
        }

        function generateAnalysis() {
            const scores = gameState.scores;
            const maxScore = Math.max(...Object.values(scores));
            const topSkills = Object.keys(scores).filter(skill => scores[skill] === maxScore);
            
            const skillNames = {
                mechanical: '‡∏Å‡∏•‡πÑ‡∏Å',
                electrical: '‡πÑ‡∏ü‡∏ü‡πâ‡∏≤-‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå',
                programming: '‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°',
                problemSolving: '‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤',
                integration: '‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö'
            };
            
            const recommendations = {
                mechanical: {
                    text: 'üîß ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏ô‡∏±‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡πÑ‡∏Å‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö! ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡πÑ‡∏Å',
                    careers: ['‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•', '‡∏ô‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå', '‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£']
                },
                electrical: {
                    text: '‚ö° ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡πâ‡∏≤‡∏ô‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå! ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏á‡∏à‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ü‡∏ü‡πâ‡∏≤',
                    careers: ['‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤', '‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå', '‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Æ‡∏≤‡∏£‡πå‡∏î‡πÅ‡∏ß‡∏£‡πå']
                },
                programming: {
                    text: 'üíª ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡πà‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°! ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô PLC ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥',
                    careers: ['‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå PLC', '‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥', '‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ã‡∏≠‡∏ü‡∏ï‡πå‡πÅ‡∏ß‡∏£‡πå‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°']
                },
                problemSolving: {
                    text: 'üîç ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏∞‡∏ö‡∏ö',
                    careers: ['‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤', '‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏∞‡∏ö‡∏ö', '‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤']
                },
                integration: {
                    text: 'üîó ‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏π‡∏£‡∏ì‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏ö! ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå',
                    careers: ['‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡πÄ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå', '‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ', '‡∏ô‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞']
                }
            };
            
            const topSkill = topSkills[0];
            const recommendation = recommendations[topSkill];
            
            document.getElementById('analysisResult').innerHTML = `
                <div class="bg-blue-900 bg-opacity-50 rounded-lg p-4">
                    <h4 class="font-semibold mb-2">üèÜ ‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h4>
                    <p>${skillNames[topSkill]} (${scores[topSkill]} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)</p>
                </div>
                <div class="bg-green-900 bg-opacity-50 rounded-lg p-4">
                    <h4 class="font-semibold mb-2">üìà ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</h4>
                    <p>‡∏ú‡πà‡∏≤‡∏ô‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à ${gameState.completedMissions.size}/5 ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</p>
                </div>
                <div class="bg-purple-900 bg-opacity-50 rounded-lg p-4">
                    <h4 class="font-semibold mb-2">‚≠ê ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</h4>
                    <p>${Object.values(scores).reduce((a, b) => a + b, 0)} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
                </div>
            `;
            
            document.getElementById('recommendationText').textContent = recommendation.text;
            document.getElementById('careerSuggestions').innerHTML = recommendation.careers
                .map(career => `<div class="bg-white bg-opacity-10 rounded px-3 py-1 m-1 inline-block">${career}</div>`)
                .join('');
        }

        function resetAdventure() {
            gameState = {
                currentMission: 1,
                completedMissions: new Set(),
                scores: {
                    mechanical: 0,
                    electrical: 0,
                    programming: 0,
                    integration: 0,
                    problemSolving: 0
                },
                missionResults: {},
                hintsUsed: {
                    factory: 0,
                    robot: 0,
                    space: 0,
                    city: 0,
                    future: 0
                }
            };
            
            // Reset UI
            document.querySelectorAll('[id$="Status"]').forEach(status => status.classList.add('hidden'));
            
            // Reset hint buttons
            ['factory', 'robot', 'space', 'city', 'future'].forEach(mission => {
                const button = document.getElementById(mission + 'HintBtn');
                if (button) {
                    button.textContent = 'üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ (2/2)';
                    button.disabled = false;
                    button.className = 'bg-yellow-600 hover:bg-yellow-700 px-6 py-2 rounded-lg';
                }
            });
            
            updateProgress();
            backToMissions();
        }

        // Initialize the game
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'977b24cb731e45bd',t:'MTc1NjYyODc5NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
